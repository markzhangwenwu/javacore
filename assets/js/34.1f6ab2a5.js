(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{314:function(e,a,t){"use strict";t.r(a);var v=t(11),_=Object(v.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"java-å¹¶å‘å¤ºå‘½è¿ç¯é—®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java-å¹¶å‘å¤ºå‘½è¿ç¯é—®"}},[e._v("#")]),e._v(" Java å¹¶å‘å¤ºå‘½è¿ç¯é—®")]),e._v(" "),t("blockquote",[t("p",[t("strong",[e._v("ğŸ“¦ æœ¬æ–‡ä»¥åŠç¤ºä¾‹æºç å·²å½’æ¡£åœ¨ "),t("a",{attrs:{href:"https://github.com/dunwu/javacore/",target:"_blank",rel:"noopener noreferrer"}},[e._v("javacore"),t("OutboundLink")],1)])])]),e._v(" "),t("h2",{attrs:{id:"å¹¶å‘ç®€ä»‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¹¶å‘ç®€ä»‹"}},[e._v("#")]),e._v(" å¹¶å‘ç®€ä»‹")]),e._v(" "),t("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿè¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿè¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ"}},[e._v("#")]),e._v(" ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿè¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ")]),e._v(" "),t("ul",[t("li",[e._v("ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿ\n"),t("ul",[t("li",[e._v("ç®€è¨€ä¹‹ï¼Œè¿›ç¨‹å¯è§†ä¸ºä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„ç¨‹åºã€‚")]),e._v(" "),t("li",[e._v("è¿›ç¨‹æ˜¯å…·æœ‰ä¸€å®šç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºå…³äºæŸä¸ªæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ã€‚è¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ã€‚")])])]),e._v(" "),t("li",[e._v("ä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿ\n"),t("ul",[t("li",[e._v("çº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿè¿›è¡Œè°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚")])])]),e._v(" "),t("li",[e._v("è¿›ç¨‹ vs. çº¿ç¨‹\n"),t("ul",[t("li",[e._v("ä¸€ä¸ªç¨‹åºè‡³å°‘æœ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚")]),e._v(" "),t("li",[e._v("çº¿ç¨‹æ¯”è¿›ç¨‹åˆ’åˆ†æ›´ç»†ï¼Œæ‰€ä»¥æ‰§è¡Œå¼€é”€æ›´å°ï¼Œå¹¶å‘æ€§æ›´é«˜ã€‚")]),e._v(" "),t("li",[e._v("è¿›ç¨‹æ˜¯ä¸€ä¸ªå®ä½“ï¼Œæ‹¥æœ‰ç‹¬ç«‹çš„èµ„æºï¼›è€ŒåŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹å…±äº«è¿›ç¨‹çš„èµ„æºã€‚")])])])]),e._v(" "),t("h3",{attrs:{id:"å¹¶å‘ï¼ˆå¤šçº¿ç¨‹ï¼‰ç¼–ç¨‹çš„å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¹¶å‘ï¼ˆå¤šçº¿ç¨‹ï¼‰ç¼–ç¨‹çš„å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ"}},[e._v("#")]),e._v(" å¹¶å‘ï¼ˆå¤šçº¿ç¨‹ï¼‰ç¼–ç¨‹çš„å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ")]),e._v(" "),t("ul",[t("li",[e._v("æ›´æœ‰æ•ˆç‡çš„åˆ©ç”¨å¤šå¤„ç†å™¨æ ¸å¿ƒ")]),e._v(" "),t("li",[e._v("æ›´å¿«çš„å“åº”æ—¶é—´")]),e._v(" "),t("li",[e._v("æ›´å¥½çš„ç¼–ç¨‹æ¨¡å‹")])]),e._v(" "),t("h3",{attrs:{id:"å¹¶å‘ä¸€å®šæ¯”ä¸²è¡Œæ›´å¿«å—ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¹¶å‘ä¸€å®šæ¯”ä¸²è¡Œæ›´å¿«å—ï¼Ÿ"}},[e._v("#")]),e._v(" å¹¶å‘ä¸€å®šæ¯”ä¸²è¡Œæ›´å¿«å—ï¼Ÿ")]),e._v(" "),t("p",[e._v("ç­”ï¼šå¦ã€‚")]),e._v(" "),t("p",[e._v("è¦ç‚¹ï¼š"),t("strong",[e._v("åˆ›å»ºçº¿ç¨‹å’Œçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢æœ‰ä¸€å®šå¼€é”€")]),e._v("ã€‚")]),e._v(" "),t("p",[e._v("è¯´æ˜ï¼šå³ä½¿æ˜¯å•æ ¸å¤„ç†å™¨ä¹Ÿæ”¯æŒå¤šçº¿ç¨‹ã€‚CPU é€šè¿‡ç»™æ¯ä¸ªçº¿ç¨‹åˆ†é…æ—¶é—´åˆ‡ç‰‡çš„ç®—æ³•æ¥å¾ªç¯æ‰§è¡Œä»»åŠ¡ï¼Œå½“å‰ä»»åŠ¡æ‰§è¡Œä¸€ä¸ªæ—¶é—´ç‰‡åä¼šåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚ä½†æ˜¯ï¼Œåœ¨åˆ‡æ¢å‰ä¼šä¿æŒä¸Šä¸€ä¸ªä»»åŠ¡çš„çŠ¶æ€ï¼Œä»¥ä¾¿ä¸‹æ¬¡åˆ‡æ¢å›è¿™ä¸ªä»»åŠ¡æ—¶ï¼Œå¯ä»¥å†åŠ è½½è¿™ä¸ªä»»åŠ¡çš„çŠ¶æ€ã€‚æ‰€ä»¥"),t("strong",[e._v("ä»»åŠ¡ä»ä¿å­˜åˆ°å†åŠ è½½çš„è¿‡ç¨‹å°±æ˜¯ä¸€æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢")]),e._v("ã€‚")]),e._v(" "),t("p",[e._v("å¼•ç”³")]),e._v(" "),t("ul",[t("li",[e._v("å¦‚ä½•å‡å°‘ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Ÿ\n"),t("ul",[t("li",[e._v("å°½é‡å°‘ç”¨é”")]),e._v(" "),t("li",[e._v("CAS ç®—æ³•")]),e._v(" "),t("li",[e._v("çº¿ç¨‹æ•°è¦åˆç†")]),e._v(" "),t("li",[e._v("åç¨‹ï¼šåœ¨å•çº¿ç¨‹ä¸­å®ç°å¤šä»»åŠ¡è°ƒåº¦ï¼Œå¹¶åœ¨å•çº¿ç¨‹ä¸­ç»´æŒå¤šä¸ªä»»åŠ¡çš„åˆ‡æ¢")])])])]),e._v(" "),t("h3",{attrs:{id:"å¦‚ä½•è®©æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æš‚åœä¸€æ®µæ—¶é—´ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•è®©æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æš‚åœä¸€æ®µæ—¶é—´ï¼Ÿ"}},[e._v("#")]),e._v(" å¦‚ä½•è®©æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æš‚åœä¸€æ®µæ—¶é—´ï¼Ÿ")]),e._v(" "),t("p",[e._v("æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ "),t("code",[e._v("Thread")]),e._v(" ç±»çš„ Sleep() æ–¹æ³•è®©çº¿ç¨‹æš‚åœä¸€æ®µæ—¶é—´ã€‚")]),e._v(" "),t("p",[e._v("éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™å¹¶ä¸ä¼šè®©çº¿ç¨‹ç»ˆæ­¢ï¼Œä¸€æ—¦ä»ä¼‘çœ ä¸­å”¤é†’çº¿ç¨‹ï¼Œçº¿ç¨‹çš„çŠ¶æ€å°†ä¼šè¢«æ”¹å˜ä¸º Runnableï¼Œå¹¶ä¸”æ ¹æ®çº¿ç¨‹è°ƒåº¦ï¼Œå®ƒå°†å¾—åˆ°æ‰§è¡Œã€‚")]),e._v(" "),t("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯çº¿ç¨‹è°ƒåº¦å™¨-thread-scheduler-å’Œæ—¶é—´åˆ†ç‰‡-time-slicing-ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯çº¿ç¨‹è°ƒåº¦å™¨-thread-scheduler-å’Œæ—¶é—´åˆ†ç‰‡-time-slicing-ï¼Ÿ"}},[e._v("#")]),e._v(" ä»€ä¹ˆæ˜¯çº¿ç¨‹è°ƒåº¦å™¨(Thread Scheduler)å’Œæ—¶é—´åˆ†ç‰‡(Time Slicing)ï¼Ÿ")]),e._v(" "),t("p",[e._v("çº¿ç¨‹è°ƒåº¦å™¨æ˜¯ä¸€ä¸ªæ“ä½œç³»ç»ŸæœåŠ¡ï¼Œå®ƒè´Ÿè´£ä¸º "),t("code",[e._v("Runnable")]),e._v(" çŠ¶æ€çš„çº¿ç¨‹åˆ†é… CPU æ—¶é—´ã€‚ä¸€æ—¦æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªçº¿ç¨‹å¹¶å¯åŠ¨å®ƒï¼Œå®ƒçš„æ‰§è¡Œä¾¿ä¾èµ–äºçº¿ç¨‹è°ƒåº¦å™¨çš„å®ç°ã€‚")]),e._v(" "),t("p",[e._v("æ—¶é—´åˆ†ç‰‡æ˜¯æŒ‡å°†å¯ç”¨çš„ CPU æ—¶é—´åˆ†é…ç»™å¯ç”¨çš„ "),t("code",[e._v("Runnable")]),e._v(" çº¿ç¨‹çš„è¿‡ç¨‹ã€‚")]),e._v(" "),t("p",[e._v("åˆ†é… CPU æ—¶é—´å¯ä»¥åŸºäºçº¿ç¨‹ä¼˜å…ˆçº§æˆ–è€…çº¿ç¨‹ç­‰å¾…çš„æ—¶é—´ã€‚çº¿ç¨‹è°ƒåº¦å¹¶ä¸å—åˆ° Java è™šæ‹Ÿæœºæ§åˆ¶ï¼Œæ‰€ä»¥ç”±åº”ç”¨ç¨‹åºæ¥æ§åˆ¶å®ƒæ˜¯æ›´å¥½çš„é€‰æ‹©ï¼ˆä¹Ÿå°±æ˜¯è¯´ä¸è¦è®©ä½ çš„ç¨‹åºä¾èµ–äºçº¿ç¨‹çš„ä¼˜å…ˆçº§ï¼‰ã€‚")]),e._v(" "),t("h3",{attrs:{id:"åœ¨å¤šçº¿ç¨‹ä¸­ï¼Œä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢-context-switching-ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨å¤šçº¿ç¨‹ä¸­ï¼Œä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢-context-switching-ï¼Ÿ"}},[e._v("#")]),e._v(" åœ¨å¤šçº¿ç¨‹ä¸­ï¼Œä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢(context-switching)ï¼Ÿ")]),e._v(" "),t("p",[e._v("ä¸Šä¸‹æ–‡åˆ‡æ¢æ˜¯å­˜å‚¨å’Œæ¢å¤ CPU çŠ¶æ€çš„è¿‡ç¨‹ï¼Œå®ƒä½¿å¾—çº¿ç¨‹æ‰§è¡Œèƒ½å¤Ÿä»ä¸­æ–­ç‚¹æ¢å¤æ‰§è¡Œã€‚ä¸Šä¸‹æ–‡åˆ‡æ¢æ˜¯å¤šä»»åŠ¡æ“ä½œç³»ç»Ÿå’Œå¤šçº¿ç¨‹ç¯å¢ƒçš„åŸºæœ¬ç‰¹å¾ã€‚")]),e._v(" "),t("h3",{attrs:{id:"å¦‚ä½•ç¡®ä¿çº¿ç¨‹å®‰å…¨ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•ç¡®ä¿çº¿ç¨‹å®‰å…¨ï¼Ÿ"}},[e._v("#")]),e._v(" å¦‚ä½•ç¡®ä¿çº¿ç¨‹å®‰å…¨ï¼Ÿ")]),e._v(" "),t("ul",[t("li",[e._v("åŸå­ç±»(atomic concurrent classes)")]),e._v(" "),t("li",[e._v("é”")]),e._v(" "),t("li",[t("code",[e._v("volatile")]),e._v(" å…³é”®å­—")]),e._v(" "),t("li",[e._v("ä¸å˜ç±»å’Œçº¿ç¨‹å®‰å…¨ç±»")])]),e._v(" "),t("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯æ­»é”-deadlock-ï¼Ÿå¦‚ä½•åˆ†æå’Œé¿å…æ­»é”ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯æ­»é”-deadlock-ï¼Ÿå¦‚ä½•åˆ†æå’Œé¿å…æ­»é”ï¼Ÿ"}},[e._v("#")]),e._v(" ä»€ä¹ˆæ˜¯æ­»é”(Deadlock)ï¼Ÿå¦‚ä½•åˆ†æå’Œé¿å…æ­»é”ï¼Ÿ")]),e._v(" "),t("p",[e._v("æ­»é”æ˜¯æŒ‡ä¸¤ä¸ªä»¥ä¸Šçš„çº¿ç¨‹æ°¸è¿œç›¸äº’é˜»å¡çš„æƒ…å†µï¼Œè¿™ç§æƒ…å†µäº§ç”Ÿè‡³å°‘éœ€è¦ä¸¤ä¸ªä»¥ä¸Šçš„çº¿ç¨‹å’Œä¸¤ä¸ªä»¥ä¸Šçš„èµ„æºã€‚")]),e._v(" "),t("p",[e._v("åˆ†ææ­»é”ï¼Œæˆ‘ä»¬éœ€è¦æŸ¥çœ‹ Java åº”ç”¨ç¨‹åºçš„çº¿ç¨‹è½¬å‚¨ã€‚æˆ‘ä»¬éœ€è¦æ‰¾å‡ºé‚£äº›çŠ¶æ€ä¸º BLOCKED çš„çº¿ç¨‹å’Œä»–ä»¬ç­‰å¾…çš„èµ„æºã€‚æ¯ä¸ªèµ„æºéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ idï¼Œç”¨è¿™ä¸ª id æˆ‘ä»¬å¯ä»¥æ‰¾å‡ºå“ªäº›çº¿ç¨‹å·²ç»æ‹¥æœ‰äº†å®ƒçš„å¯¹è±¡é”ã€‚")]),e._v(" "),t("p",[e._v("é¿å…åµŒå¥—é”ï¼Œåªåœ¨éœ€è¦çš„åœ°æ–¹ä½¿ç”¨é”å’Œé¿å…æ— é™æœŸç­‰å¾…æ˜¯é¿å…æ­»é”çš„é€šå¸¸åŠæ³•ã€‚")]),e._v(" "),t("h2",{attrs:{id:"çº¿ç¨‹åŸºç¡€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#çº¿ç¨‹åŸºç¡€"}},[e._v("#")]),e._v(" çº¿ç¨‹åŸºç¡€")]),e._v(" "),t("h3",{attrs:{id:"java-çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸä¸­æœ‰å“ªäº›çŠ¶æ€ï¼Ÿå„çŠ¶æ€ä¹‹é—´å¦‚ä½•åˆ‡æ¢ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java-çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸä¸­æœ‰å“ªäº›çŠ¶æ€ï¼Ÿå„çŠ¶æ€ä¹‹é—´å¦‚ä½•åˆ‡æ¢ï¼Ÿ"}},[e._v("#")]),e._v(" Java çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸä¸­æœ‰å“ªäº›çŠ¶æ€ï¼Ÿå„çŠ¶æ€ä¹‹é—´å¦‚ä½•åˆ‡æ¢ï¼Ÿ")]),e._v(" "),t("p",[t("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/java/javacore/concurrent/java-thread_1.png!zp",alt:"img"}})]),e._v(" "),t("p",[t("code",[e._v("java.lang.Thread.State")]),e._v(" ä¸­å®šä¹‰äº† "),t("strong",[e._v("6")]),e._v(" ç§ä¸åŒçš„çº¿ç¨‹çŠ¶æ€ï¼Œåœ¨ç»™å®šçš„ä¸€ä¸ªæ—¶åˆ»ï¼Œçº¿ç¨‹åªèƒ½å¤„äºå…¶ä¸­çš„ä¸€ä¸ªçŠ¶æ€ã€‚")]),e._v(" "),t("p",[e._v("ä»¥ä¸‹æ˜¯å„çŠ¶æ€çš„è¯´æ˜ï¼Œä»¥åŠçŠ¶æ€é—´çš„è”ç³»ï¼š")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("å¼€å§‹ï¼ˆNewï¼‰")]),e._v(" - è¿˜æ²¡æœ‰è°ƒç”¨ "),t("code",[e._v("start()")]),e._v(" æ–¹æ³•çš„çº¿ç¨‹å¤„äºæ­¤çŠ¶æ€ã€‚")]),e._v(" "),t("li",[t("strong",[e._v("å¯è¿è¡Œï¼ˆRunnableï¼‰")]),e._v(" - å·²ç»è°ƒç”¨äº† "),t("code",[e._v("start()")]),e._v(" æ–¹æ³•çš„çº¿ç¨‹çŠ¶æ€ã€‚æ­¤çŠ¶æ€æ„å‘³ç€ï¼Œçº¿ç¨‹å·²ç»å‡†å¤‡å¥½äº†ï¼Œä¸€æ—¦è¢«çº¿ç¨‹è°ƒåº¦å™¨åˆ†é…äº† CPU æ—¶é—´ç‰‡ï¼Œå°±å¯ä»¥è¿è¡Œçº¿ç¨‹ã€‚")]),e._v(" "),t("li",[t("strong",[e._v("é˜»å¡ï¼ˆBlockedï¼‰")]),e._v(" - é˜»å¡çŠ¶æ€ã€‚çº¿ç¨‹é˜»å¡çš„çº¿ç¨‹çŠ¶æ€ç­‰å¾…ç›‘è§†å™¨é”å®šã€‚å¤„äºé˜»å¡çŠ¶æ€çš„çº¿ç¨‹æ­£åœ¨ç­‰å¾…ç›‘è§†å™¨é”å®šï¼Œä»¥ä¾¿åœ¨è°ƒç”¨ "),t("code",[e._v("Object.wait()")]),e._v(" ä¹‹åè¾“å…¥åŒæ­¥å—/æ–¹æ³•æˆ–é‡æ–°è¾“å…¥åŒæ­¥å—/æ–¹æ³•ã€‚")]),e._v(" "),t("li",[t("strong",[e._v("ç­‰å¾…ï¼ˆWaitingï¼‰")]),e._v(" - ç­‰å¾…çŠ¶æ€ã€‚ä¸€ä¸ªçº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€ï¼Œæ˜¯ç”±äºæ‰§è¡Œäº† 3 ä¸ªæ–¹æ³•ä¸­çš„ä»»æ„æ–¹æ³•ï¼š\n"),t("ul",[t("li",[t("code",[e._v("Object.wait()")])]),e._v(" "),t("li",[t("code",[e._v("Thread.join()")])]),e._v(" "),t("li",[t("code",[e._v("LockSupport.park()")])])])]),e._v(" "),t("li",[t("strong",[e._v("å®šæ—¶ç­‰å¾…ï¼ˆTimed waitingï¼‰")]),e._v(" - ç­‰å¾…æŒ‡å®šæ—¶é—´çš„çŠ¶æ€ã€‚ä¸€ä¸ªçº¿ç¨‹å¤„äºå®šæ—¶ç­‰å¾…çŠ¶æ€ï¼Œæ˜¯ç”±äºæ‰§è¡Œäº†ä»¥ä¸‹æ–¹æ³•ä¸­çš„ä»»æ„æ–¹æ³•ï¼š\n"),t("ul",[t("li",[t("code",[e._v("Thread.sleep(sleeptime)")])]),e._v(" "),t("li",[t("code",[e._v("Object.wait(timeout)")])]),e._v(" "),t("li",[t("code",[e._v("Thread.join(timeout)")])]),e._v(" "),t("li",[t("code",[e._v("LockSupport.parkNanos(timeout)")])]),e._v(" "),t("li",[t("code",[e._v("LockSupport.parkUntil(timeout)")])])])]),e._v(" "),t("li",[t("strong",[e._v("ç»ˆæ­¢(Terminated)")]),e._v(" - çº¿ç¨‹ "),t("code",[e._v("run()")]),e._v(" æ–¹æ³•æ‰§è¡Œç»“æŸï¼Œæˆ–è€…å› å¼‚å¸¸é€€å‡ºäº† "),t("code",[e._v("run()")]),e._v(" æ–¹æ³•ï¼Œåˆ™è¯¥çº¿ç¨‹ç»“æŸç”Ÿå‘½å‘¨æœŸã€‚æ­»äº¡çš„çº¿ç¨‹ä¸å¯å†æ¬¡å¤ç”Ÿã€‚")])]),e._v(" "),t("blockquote",[t("p",[e._v("ğŸ‘‰ å‚è€ƒé˜…è¯»ï¼š"),t("a",{attrs:{href:"https://www.w3resource.com/java-tutorial/java-threadclass-methods-and-threadstates.php",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java"),t("code",[e._v("Thread")]),e._v(" Methods and "),t("code",[e._v("Thread")]),e._v(" States"),t("OutboundLink")],1),e._v("\nğŸ‘‰ å‚è€ƒé˜…è¯»ï¼š"),t("a",{attrs:{href:"https://blog.csdn.net/pange1991/article/details/53860651",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java çº¿ç¨‹çš„ 5 ç§çŠ¶æ€åŠåˆ‡æ¢(é€å½»è®²è§£)"),t("OutboundLink")],1)])]),e._v(" "),t("h3",{attrs:{id:"åˆ›å»ºçº¿ç¨‹æœ‰å“ªäº›æ–¹å¼ï¼Ÿè¿™äº›æ–¹æ³•å„è‡ªåˆ©å¼Šæ˜¯ä»€ä¹ˆï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºçº¿ç¨‹æœ‰å“ªäº›æ–¹å¼ï¼Ÿè¿™äº›æ–¹æ³•å„è‡ªåˆ©å¼Šæ˜¯ä»€ä¹ˆï¼Ÿ"}},[e._v("#")]),e._v(" åˆ›å»ºçº¿ç¨‹æœ‰å“ªäº›æ–¹å¼ï¼Ÿè¿™äº›æ–¹æ³•å„è‡ªåˆ©å¼Šæ˜¯ä»€ä¹ˆï¼Ÿ")]),e._v(" "),t("p",[e._v("åˆ›å»ºçº¿ç¨‹ä¸»è¦æœ‰ä¸‰ç§æ–¹å¼ï¼š")]),e._v(" "),t("p",[t("strong",[e._v("1. ç»§æ‰¿ "),t("code",[e._v("Thread")]),e._v(" ç±»")])]),e._v(" "),t("ul",[t("li",[e._v("å®šä¹‰ "),t("code",[e._v("Thread")]),e._v(" ç±»çš„å­ç±»ï¼Œå¹¶é‡å†™è¯¥ç±»çš„ "),t("code",[e._v("run()")]),e._v(" æ–¹æ³•ï¼Œè¯¥ "),t("code",[e._v("run()")]),e._v(" æ–¹æ³•çš„æ–¹æ³•ä½“å°±ä»£è¡¨äº†çº¿ç¨‹è¦å®Œæˆçš„ä»»åŠ¡ã€‚å› æ­¤æŠŠ "),t("code",[e._v("run()")]),e._v(" æ–¹æ³•ç§°ä¸ºæ‰§è¡Œä½“ã€‚")]),e._v(" "),t("li",[e._v("åˆ›å»º "),t("code",[e._v("Thread")]),e._v(" å­ç±»çš„å®ä¾‹ï¼Œå³åˆ›å»ºäº†çº¿ç¨‹å¯¹è±¡ã€‚")]),e._v(" "),t("li",[e._v("è°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„ "),t("code",[e._v("start()")]),e._v(" æ–¹æ³•æ¥å¯åŠ¨è¯¥çº¿ç¨‹ã€‚")])]),e._v(" "),t("p",[t("strong",[e._v("2. å®ç° "),t("code",[e._v("Runnable")]),e._v(" æ¥å£")])]),e._v(" "),t("ul",[t("li",[e._v("å®šä¹‰ "),t("code",[e._v("Runnable")]),e._v(" æ¥å£çš„å®ç°ç±»ï¼Œå¹¶é‡å†™è¯¥æ¥å£çš„ "),t("code",[e._v("run()")]),e._v(" æ–¹æ³•ï¼Œè¯¥ "),t("code",[e._v("run()")]),e._v(" æ–¹æ³•çš„æ–¹æ³•ä½“åŒæ ·æ˜¯è¯¥çº¿ç¨‹çš„çº¿ç¨‹æ‰§è¡Œä½“ã€‚")]),e._v(" "),t("li",[e._v("åˆ›å»º "),t("code",[e._v("Runnable")]),e._v(" å®ç°ç±»çš„å®ä¾‹ï¼Œå¹¶ä»¥æ­¤å®ä¾‹ä½œä¸º "),t("code",[e._v("Thread")]),e._v(" å¯¹è±¡ï¼Œè¯¥ "),t("code",[e._v("Thread")]),e._v(" å¯¹è±¡æ‰æ˜¯çœŸæ­£çš„çº¿ç¨‹å¯¹è±¡ã€‚")]),e._v(" "),t("li",[e._v("è°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„ start() æ–¹æ³•æ¥å¯åŠ¨è¯¥çº¿ç¨‹ã€‚")])]),e._v(" "),t("p",[t("strong",[e._v("3. é€šè¿‡ "),t("code",[e._v("Callable")]),e._v(" æ¥å£å’Œ "),t("code",[e._v("Future")]),e._v(" æ¥å£")])]),e._v(" "),t("ul",[t("li",[e._v("åˆ›å»º "),t("code",[e._v("Callable")]),e._v(" æ¥å£çš„å®ç°ç±»ï¼Œå¹¶å®ç° "),t("code",[e._v("call()")]),e._v(" æ–¹æ³•ï¼Œè¯¥ "),t("code",[e._v("call()")]),e._v(" æ–¹æ³•å°†ä½œä¸ºçº¿ç¨‹æ‰§è¡Œä½“ï¼Œå¹¶ä¸”æœ‰è¿”å›å€¼ã€‚")]),e._v(" "),t("li",[e._v("åˆ›å»º "),t("code",[e._v("Callable")]),e._v(" å®ç°ç±»çš„å®ä¾‹ï¼Œä½¿ç”¨ "),t("code",[e._v("FutureTask")]),e._v(" ç±»æ¥åŒ…è£… "),t("code",[e._v("Callable")]),e._v(" å¯¹è±¡ï¼Œè¯¥ "),t("code",[e._v("FutureTask")]),e._v(" å¯¹è±¡å°è£…äº†è¯¥ "),t("code",[e._v("Callable")]),e._v(" å¯¹è±¡çš„ "),t("code",[e._v("call()")]),e._v(" æ–¹æ³•çš„è¿”å›å€¼ã€‚")]),e._v(" "),t("li",[e._v("ä½¿ç”¨ "),t("code",[e._v("FutureTask")]),e._v(" å¯¹è±¡ä½œä¸º "),t("code",[e._v("Thread")]),e._v(" å¯¹è±¡çš„ target åˆ›å»ºå¹¶å¯åŠ¨æ–°çº¿ç¨‹ã€‚")]),e._v(" "),t("li",[e._v("è°ƒç”¨ "),t("code",[e._v("FutureTask")]),e._v(" å¯¹è±¡çš„ "),t("code",[e._v("get()")]),e._v(" æ–¹æ³•æ¥è·å¾—å­çº¿ç¨‹æ‰§è¡Œç»“æŸåçš„è¿”å›å€¼")])]),e._v(" "),t("p",[e._v("ä¸‰ç§åˆ›å»ºçº¿ç¨‹æ–¹å¼å¯¹æ¯”")]),e._v(" "),t("ul",[t("li",[e._v("å®ç° "),t("code",[e._v("Runnable")]),e._v(" æ¥å£ä¼˜äºç»§æ‰¿ "),t("code",[e._v("Thread")]),e._v(" ç±»ï¼Œå› ä¸ºæ ¹æ®å¼€æ”¾å°é—­åŸåˆ™â€”â€”å®ç°æ¥å£æ›´ä¾¿äºæ‰©å±•ï¼›")]),e._v(" "),t("li",[e._v("å®ç° "),t("code",[e._v("Runnable")]),e._v(" æ¥å£çš„çº¿ç¨‹æ²¡æœ‰è¿”å›å€¼ï¼›è€Œä½¿ç”¨ "),t("code",[e._v("Callable")]),e._v(" / "),t("code",[e._v("Future")]),e._v(" æ–¹å¼å¯ä»¥è®©çº¿ç¨‹æœ‰è¿”å›å€¼ã€‚")])]),e._v(" "),t("blockquote",[t("p",[e._v("ğŸ‘‰ å‚è€ƒé˜…è¯»ï¼š"),t("a",{attrs:{href:"https://blog.csdn.net/longshengguoji/article/details/41126119",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java åˆ›å»ºçº¿ç¨‹çš„ä¸‰ç§æ–¹å¼åŠå…¶å¯¹æ¯”"),t("OutboundLink")],1)])]),e._v(" "),t("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯-callable-å’Œ-futureï¼Ÿä»€ä¹ˆæ˜¯-futuretaskï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯-callable-å’Œ-futureï¼Ÿä»€ä¹ˆæ˜¯-futuretaskï¼Ÿ"}},[e._v("#")]),e._v(" ä»€ä¹ˆæ˜¯ "),t("code",[e._v("Callable")]),e._v(" å’Œ "),t("code",[e._v("Future")]),e._v("ï¼Ÿä»€ä¹ˆæ˜¯ "),t("code",[e._v("FutureTask")]),e._v("ï¼Ÿ")]),e._v(" "),t("p",[t("strong",[e._v("ä»€ä¹ˆæ˜¯ "),t("code",[e._v("Callable")]),e._v(" å’Œ "),t("code",[e._v("Future")]),e._v("ï¼Ÿ")])]),e._v(" "),t("p",[e._v("Java 5 åœ¨ concurrency åŒ…ä¸­å¼•å…¥äº† "),t("code",[e._v("Callable")]),e._v(" æ¥å£ï¼Œå®ƒå’Œ "),t("code",[e._v("Runnable")]),e._v(" æ¥å£å¾ˆç›¸ä¼¼ï¼Œä½†å®ƒå¯ä»¥è¿”å›ä¸€ä¸ªå¯¹è±¡æˆ–è€…æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚")]),e._v(" "),t("p",[t("code",[e._v("Callable")]),e._v(" æ¥å£ä½¿ç”¨æ³›å‹å»å®šä¹‰å®ƒçš„è¿”å›ç±»å‹ã€‚"),t("code",[e._v("Executors")]),e._v(" ç±»æä¾›äº†ä¸€äº›æœ‰ç”¨çš„æ–¹æ³•å»åœ¨çº¿ç¨‹æ± ä¸­æ‰§è¡Œ "),t("code",[e._v("Callable")]),e._v(" å†…çš„ä»»åŠ¡ã€‚ç”±äº "),t("code",[e._v("Callable")]),e._v(" ä»»åŠ¡æ˜¯å¹¶è¡Œçš„ï¼Œæˆ‘ä»¬å¿…é¡»ç­‰å¾…å®ƒè¿”å›çš„ç»“æœã€‚"),t("code",[e._v("Future")]),e._v(" å¯¹è±¡ä¸ºæˆ‘ä»¬è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚åœ¨çº¿ç¨‹æ± æäº¤ "),t("code",[e._v("Callable")]),e._v(" ä»»åŠ¡åè¿”å›äº†ä¸€ä¸ª "),t("code",[e._v("Future")]),e._v(" å¯¹è±¡ï¼Œä½¿ç”¨å®ƒæˆ‘ä»¬å¯ä»¥çŸ¥é“ "),t("code",[e._v("Callable")]),e._v(" ä»»åŠ¡çš„çŠ¶æ€å’Œå¾—åˆ° "),t("code",[e._v("Callable")]),e._v(" è¿”å›çš„æ‰§è¡Œç»“æœã€‚"),t("code",[e._v("Future")]),e._v(" æä¾›äº† "),t("code",[e._v("get()")]),e._v(" æ–¹æ³•è®©æˆ‘ä»¬å¯ä»¥ç­‰å¾… "),t("code",[e._v("Callable")]),e._v(" ç»“æŸå¹¶è·å–å®ƒçš„æ‰§è¡Œç»“æœã€‚")]),e._v(" "),t("p",[t("strong",[e._v("ä»€ä¹ˆæ˜¯ "),t("code",[e._v("FutureTask")]),e._v("ï¼Ÿ")])]),e._v(" "),t("p",[t("code",[e._v("FutureTask")]),e._v(" æ˜¯ "),t("code",[e._v("Future")]),e._v(" çš„ä¸€ä¸ªåŸºç¡€å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒåŒ "),t("code",[e._v("Executors")]),e._v(" ä½¿ç”¨å¤„ç†å¼‚æ­¥ä»»åŠ¡ã€‚é€šå¸¸æˆ‘ä»¬ä¸éœ€è¦ä½¿ç”¨ "),t("code",[e._v("FutureTask")]),e._v(" ç±»ï¼Œå•å½“æˆ‘ä»¬æ‰“ç®—é‡å†™ "),t("code",[e._v("Future")]),e._v(" æ¥å£çš„ä¸€äº›æ–¹æ³•å¹¶ä¿æŒåŸæ¥åŸºç¡€çš„å®ç°æ˜¯ï¼Œå®ƒå°±å˜å¾—éå¸¸æœ‰ç”¨ã€‚æˆ‘ä»¬å¯ä»¥ä»…ä»…ç»§æ‰¿äºå®ƒå¹¶é‡å†™æˆ‘ä»¬éœ€è¦çš„æ–¹æ³•ã€‚é˜…è¯» Java "),t("code",[e._v("FutureTask")]),e._v(" ä¾‹å­ï¼Œå­¦ä¹ å¦‚ä½•ä½¿ç”¨å®ƒã€‚")]),e._v(" "),t("blockquote",[t("p",[e._v("ğŸ‘‰ å‚è€ƒé˜…è¯»ï¼š"),t("a",{attrs:{href:"http://www.cnblogs.com/dolphin0520/p/3949310.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java å¹¶å‘ç¼–ç¨‹ï¼šCallableã€Future å’Œ FutureTask"),t("OutboundLink")],1)])]),e._v(" "),t("h3",{attrs:{id:"start-å’Œ-run-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¯ä»¥ç›´æ¥è°ƒç”¨-thread-ç±»çš„-run-æ–¹æ³•ä¹ˆï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#start-å’Œ-run-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¯ä»¥ç›´æ¥è°ƒç”¨-thread-ç±»çš„-run-æ–¹æ³•ä¹ˆï¼Ÿ"}},[e._v("#")]),e._v(" "),t("code",[e._v("start()")]),e._v(" å’Œ "),t("code",[e._v("run()")]),e._v(" æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¯ä»¥ç›´æ¥è°ƒç”¨ "),t("code",[e._v("Thread")]),e._v(" ç±»çš„ "),t("code",[e._v("run()")]),e._v(" æ–¹æ³•ä¹ˆï¼Ÿ")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("run()")]),e._v(" æ–¹æ³•æ˜¯çº¿ç¨‹çš„æ‰§è¡Œä½“ã€‚")]),e._v(" "),t("li",[t("code",[e._v("start()")]),e._v(" æ–¹æ³•è´Ÿè´£å¯åŠ¨çº¿ç¨‹ï¼Œç„¶å JVM ä¼šè®©è¿™ä¸ªçº¿ç¨‹å»æ‰§è¡Œ "),t("code",[e._v("run()")]),e._v(" æ–¹æ³•ã€‚")])]),e._v(" "),t("p",[e._v("å¯ä»¥ç›´æ¥è°ƒç”¨ "),t("code",[e._v("Thread")]),e._v(" ç±»çš„ "),t("code",[e._v("run()")]),e._v(" æ–¹æ³•ä¹ˆï¼Ÿ")]),e._v(" "),t("ul",[t("li",[e._v("å¯ä»¥ã€‚ä½†æ˜¯å¦‚æœç›´æ¥è°ƒç”¨ "),t("code",[e._v("Thread")]),e._v(" çš„ "),t("code",[e._v("run()")]),e._v(" æ–¹æ³•ï¼Œå®ƒçš„è¡Œä¸ºå°±ä¼šå’Œæ™®é€šçš„æ–¹æ³•ä¸€æ ·ã€‚")]),e._v(" "),t("li",[e._v("ä¸ºäº†åœ¨æ–°çš„çº¿ç¨‹ä¸­æ‰§è¡Œæˆ‘ä»¬çš„ä»£ç ï¼Œå¿…é¡»ä½¿ç”¨ "),t("code",[e._v("start()")]),e._v(" æ–¹æ³•ã€‚")])]),e._v(" "),t("h3",{attrs:{id:"sleep-ã€yield-ã€join-æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆ-sleep-å’Œ-yield-æ–¹æ³•æ˜¯é™æ€ï¼ˆstaticï¼‰çš„ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sleep-ã€yield-ã€join-æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆ-sleep-å’Œ-yield-æ–¹æ³•æ˜¯é™æ€ï¼ˆstaticï¼‰çš„ï¼Ÿ"}},[e._v("#")]),e._v(" "),t("code",[e._v("sleep()")]),e._v("ã€"),t("code",[e._v("yield()")]),e._v("ã€"),t("code",[e._v("join()")]),e._v(" æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆ "),t("code",[e._v("sleep()")]),e._v(" å’Œ "),t("code",[e._v("yield()")]),e._v(" æ–¹æ³•æ˜¯é™æ€ï¼ˆstaticï¼‰çš„ï¼Ÿ")]),e._v(" "),t("p",[t("strong",[t("code",[e._v("yield()")])])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("yield()")]),e._v(" æ–¹æ³•å¯ä»¥è®©å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹æš‚åœï¼Œä½†å®ƒä¸ä¼šé˜»å¡è¯¥çº¿ç¨‹ï¼Œå®ƒåªæ˜¯å°†è¯¥çº¿ç¨‹ä» "),t("strong",[e._v("Running")]),e._v(" çŠ¶æ€è½¬å…¥ "),t("code",[e._v("Runnable")]),e._v(" çŠ¶æ€ã€‚")]),e._v(" "),t("li",[e._v("å½“æŸä¸ªçº¿ç¨‹è°ƒç”¨äº† "),t("code",[e._v("yield()")]),e._v(" æ–¹æ³•æš‚åœä¹‹åï¼Œåªæœ‰ä¼˜å…ˆçº§ä¸å½“å‰çº¿ç¨‹ç›¸åŒï¼Œæˆ–è€…ä¼˜å…ˆçº§æ¯”å½“å‰çº¿ç¨‹æ›´é«˜çš„å¤„äºå°±ç»ªçŠ¶æ€çš„çº¿ç¨‹æ‰ä¼šè·å¾—æ‰§è¡Œçš„æœºä¼šã€‚")])]),e._v(" "),t("p",[t("strong",[t("code",[e._v("sleep()")])])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("sleep()")]),e._v(" æ–¹æ³•éœ€è¦æŒ‡å®šç­‰å¾…çš„æ—¶é—´ï¼Œå®ƒå¯ä»¥è®©å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹åœ¨æŒ‡å®šçš„æ—¶é—´å†…æš‚åœæ‰§è¡Œï¼Œè¿›å…¥ "),t("strong",[e._v("Blocked")]),e._v(" çŠ¶æ€ã€‚")]),e._v(" "),t("li",[e._v("è¯¥æ–¹æ³•æ—¢å¯ä»¥è®©å…¶ä»–åŒä¼˜å…ˆçº§æˆ–è€…é«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹å¾—åˆ°æ‰§è¡Œçš„æœºä¼šï¼Œä¹Ÿå¯ä»¥è®©ä½ä¼˜å…ˆçº§çš„çº¿ç¨‹å¾—åˆ°æ‰§è¡Œæœºä¼šã€‚")]),e._v(" "),t("li",[e._v("ä½†æ˜¯ï¼Œ"),t("code",[e._v("sleep()")]),e._v(" æ–¹æ³•ä¸ä¼šé‡Šæ”¾â€œé”æ ‡å¿—â€ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœæœ‰ "),t("code",[e._v("synchronized")]),e._v(" åŒæ­¥å—ï¼Œå…¶ä»–çº¿ç¨‹ä»ç„¶ä¸èƒ½è®¿é—®å…±äº«æ•°æ®ã€‚")])]),e._v(" "),t("p",[t("strong",[t("code",[e._v("join()")])])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("join()")]),e._v(" æ–¹æ³•ä¼šä½¿å½“å‰çº¿ç¨‹è½¬å…¥ "),t("strong",[e._v("Blocked")]),e._v(" çŠ¶æ€ï¼Œç­‰å¾…è°ƒç”¨ "),t("code",[e._v("join()")]),e._v(" æ–¹æ³•çš„çº¿ç¨‹ç»“æŸåæ‰èƒ½ç»§ç»­æ‰§è¡Œã€‚")])]),e._v(" "),t("p",[t("strong",[e._v("ä¸ºä»€ä¹ˆ "),t("code",[e._v("sleep()")]),e._v(" å’Œ "),t("code",[e._v("yield()")]),e._v(" æ–¹æ³•æ˜¯é™æ€ï¼ˆstaticï¼‰çš„ï¼Ÿ")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("Thread")]),e._v(" ç±»çš„ "),t("code",[e._v("sleep()")]),e._v(" å’Œ "),t("code",[e._v("yield()")]),e._v(" æ–¹æ³•å°†å¤„ç† "),t("strong",[e._v("Running")]),e._v(" çŠ¶æ€çš„çº¿ç¨‹ã€‚æ‰€ä»¥åœ¨å…¶ä»–å¤„äºé "),t("strong",[e._v("Running")]),e._v(" çŠ¶æ€çš„çº¿ç¨‹ä¸Šæ‰§è¡Œè¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¿™äº›æ–¹æ³•æ˜¯é™æ€çš„ã€‚å®ƒä»¬å¯ä»¥åœ¨å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹ä¸­å·¥ä½œï¼Œå¹¶é¿å…ç¨‹åºå‘˜é”™è¯¯çš„è®¤ä¸ºå¯ä»¥åœ¨å…¶ä»–éè¿è¡Œçº¿ç¨‹è°ƒç”¨è¿™äº›æ–¹æ³•ã€‚")])]),e._v(" "),t("blockquote",[t("p",[e._v("ğŸ‘‰ å‚è€ƒé˜…è¯»ï¼š"),t("a",{attrs:{href:"http://www.importnew.com/14958.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java çº¿ç¨‹ä¸­ yield ä¸ join æ–¹æ³•çš„åŒºåˆ«"),t("OutboundLink")],1),e._v("\nğŸ‘‰ å‚è€ƒé˜…è¯»ï¼š"),t("a",{attrs:{href:"https://blog.csdn.net/xiangwanpeng/article/details/54972952",target:"_blank",rel:"noopener noreferrer"}},[e._v("sleep()ï¼Œwait()ï¼Œyield()å’Œ join()æ–¹æ³•çš„åŒºåˆ«"),t("OutboundLink")],1)])]),e._v(" "),t("h3",{attrs:{id:"java-çš„çº¿ç¨‹ä¼˜å…ˆçº§å¦‚ä½•æ§åˆ¶ï¼Ÿé«˜ä¼˜å…ˆçº§çš„-java-çº¿ç¨‹ä¸€å®šå…ˆæ‰§è¡Œå—ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java-çš„çº¿ç¨‹ä¼˜å…ˆçº§å¦‚ä½•æ§åˆ¶ï¼Ÿé«˜ä¼˜å…ˆçº§çš„-java-çº¿ç¨‹ä¸€å®šå…ˆæ‰§è¡Œå—ï¼Ÿ"}},[e._v("#")]),e._v(" Java çš„çº¿ç¨‹ä¼˜å…ˆçº§å¦‚ä½•æ§åˆ¶ï¼Ÿé«˜ä¼˜å…ˆçº§çš„ Java çº¿ç¨‹ä¸€å®šå…ˆæ‰§è¡Œå—ï¼Ÿ")]),e._v(" "),t("p",[t("strong",[e._v("Java ä¸­çš„çº¿ç¨‹ä¼˜å…ˆçº§å¦‚ä½•æ§åˆ¶")])]),e._v(" "),t("ul",[t("li",[e._v("Java ä¸­çš„çº¿ç¨‹ä¼˜å…ˆçº§çš„èŒƒå›´æ˜¯ "),t("code",[e._v("[1,10]")]),e._v("ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œé«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹åœ¨è¿è¡Œæ—¶ä¼šå…·æœ‰ä¼˜å…ˆæƒã€‚å¯ä»¥é€šè¿‡ "),t("code",[e._v("thread.setPriority(Thread.MAX_PRIORITY)")]),e._v(" çš„æ–¹å¼è®¾ç½®ï¼Œé»˜è®¤ä¼˜å…ˆçº§ä¸º "),t("code",[e._v("5")]),e._v("ã€‚")])]),e._v(" "),t("p",[t("strong",[e._v("é«˜ä¼˜å…ˆçº§çš„ Java çº¿ç¨‹ä¸€å®šå…ˆæ‰§è¡Œå—")])]),e._v(" "),t("ul",[t("li",[e._v("å³ä½¿è®¾ç½®äº†çº¿ç¨‹çš„ä¼˜å…ˆçº§ï¼Œä¹Ÿ"),t("strong",[e._v("æ— æ³•ä¿è¯é«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹ä¸€å®šå…ˆæ‰§è¡Œ")]),e._v("ã€‚")]),e._v(" "),t("li",[e._v("åŸå› ï¼šè¿™æ˜¯å› ä¸º "),t("strong",[e._v("Java çº¿ç¨‹ä¼˜å…ˆçº§ä¾èµ–äºæ“ä½œç³»ç»Ÿçš„æ”¯æŒ")]),e._v("ï¼Œç„¶è€Œï¼Œä¸åŒçš„æ“ä½œç³»ç»Ÿæ”¯æŒçš„çº¿ç¨‹ä¼˜å…ˆçº§å¹¶ä¸ç›¸åŒï¼Œä¸èƒ½å¾ˆå¥½çš„å’Œ Java ä¸­çº¿ç¨‹ä¼˜å…ˆçº§ä¸€ä¸€å¯¹åº”ã€‚")]),e._v(" "),t("li",[e._v("ç»“è®ºï¼šJava çº¿ç¨‹ä¼˜å…ˆçº§æ§åˆ¶å¹¶ä¸å¯é ã€‚")])]),e._v(" "),t("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯å®ˆæŠ¤çº¿ç¨‹ï¼Ÿä¸ºä»€ä¹ˆè¦ç”¨å®ˆæŠ¤çº¿ç¨‹ï¼Ÿå¦‚ä½•åˆ›å»ºå®ˆæŠ¤çº¿ç¨‹ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯å®ˆæŠ¤çº¿ç¨‹ï¼Ÿä¸ºä»€ä¹ˆè¦ç”¨å®ˆæŠ¤çº¿ç¨‹ï¼Ÿå¦‚ä½•åˆ›å»ºå®ˆæŠ¤çº¿ç¨‹ï¼Ÿ"}},[e._v("#")]),e._v(" ä»€ä¹ˆæ˜¯å®ˆæŠ¤çº¿ç¨‹ï¼Ÿä¸ºä»€ä¹ˆè¦ç”¨å®ˆæŠ¤çº¿ç¨‹ï¼Ÿå¦‚ä½•åˆ›å»ºå®ˆæŠ¤çº¿ç¨‹ï¼Ÿ")]),e._v(" "),t("p",[t("strong",[e._v("ä»€ä¹ˆæ˜¯å®ˆæŠ¤çº¿ç¨‹")])]),e._v(" "),t("ul",[t("li",[e._v("å®ˆæŠ¤çº¿ç¨‹ï¼ˆDaemon Threadï¼‰æ˜¯åœ¨åå°æ‰§è¡Œå¹¶ä¸”ä¸ä¼šé˜»æ­¢ JVM ç»ˆæ­¢çš„çº¿ç¨‹ã€‚")]),e._v(" "),t("li",[e._v("ä¸å®ˆæŠ¤çº¿ç¨‹ï¼ˆDaemon Threadï¼‰ç›¸åçš„ï¼Œå«ç”¨æˆ·çº¿ç¨‹ï¼ˆUser Threadï¼‰ï¼Œä¹Ÿå°±æ˜¯éå®ˆæŠ¤çº¿ç¨‹ã€‚")])]),e._v(" "),t("p",[t("strong",[e._v("ä¸ºä»€ä¹ˆè¦ç”¨å®ˆæŠ¤çº¿ç¨‹")])]),e._v(" "),t("ul",[t("li",[e._v("å®ˆæŠ¤çº¿ç¨‹çš„ä¼˜å…ˆçº§æ¯”è¾ƒä½ï¼Œç”¨äºä¸ºç³»ç»Ÿä¸­çš„å…¶å®ƒå¯¹è±¡å’Œçº¿ç¨‹æä¾›æœåŠ¡ã€‚å…¸å‹çš„åº”ç”¨å°±æ˜¯åƒåœ¾å›æ”¶å™¨ã€‚")])]),e._v(" "),t("p",[t("strong",[e._v("å¦‚ä½•åˆ›å»ºå®ˆæŠ¤çº¿ç¨‹")])]),e._v(" "),t("ul",[t("li",[e._v("ä½¿ç”¨ "),t("code",[e._v("thread.setDaemon(true)")]),e._v(" å¯ä»¥è®¾ç½® thread çº¿ç¨‹ä¸ºå®ˆæŠ¤çº¿ç¨‹ã€‚")]),e._v(" "),t("li",[e._v("æ³¨æ„ç‚¹ï¼š\n"),t("ul",[t("li",[e._v("æ­£åœ¨è¿è¡Œçš„ç”¨æˆ·çº¿ç¨‹æ— æ³•è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼Œæ‰€ä»¥ "),t("code",[e._v("thread.setDaemon(true)")]),e._v(" å¿…é¡»åœ¨ "),t("code",[e._v("thread.start()")]),e._v(" ä¹‹å‰è®¾ç½®ï¼Œå¦åˆ™ä¼šæŠ›å‡º "),t("code",[e._v("llegalThreadStateException")]),e._v(" å¼‚å¸¸ï¼›")]),e._v(" "),t("li",[e._v("ä¸€ä¸ªå®ˆæŠ¤çº¿ç¨‹åˆ›å»ºçš„å­çº¿ç¨‹ä¾ç„¶æ˜¯å®ˆæŠ¤çº¿ç¨‹ã€‚")]),e._v(" "),t("li",[e._v("ä¸è¦è®¤ä¸ºæ‰€æœ‰çš„åº”ç”¨éƒ½å¯ä»¥åˆ†é…ç»™å®ˆæŠ¤çº¿ç¨‹æ¥è¿›è¡ŒæœåŠ¡ï¼Œæ¯”å¦‚è¯»å†™æ“ä½œæˆ–è€…è®¡ç®—é€»è¾‘ã€‚")])])])]),e._v(" "),t("blockquote",[t("p",[e._v("ğŸ‘‰ å‚è€ƒé˜…è¯»ï¼š"),t("a",{attrs:{href:"https://blog.csdn.net/shimiso/article/details/8964414",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java ä¸­å®ˆæŠ¤çº¿ç¨‹çš„æ€»ç»“"),t("OutboundLink")],1)])]),e._v(" "),t("h3",{attrs:{id:"çº¿ç¨‹é—´æ˜¯å¦‚ä½•é€šä¿¡çš„ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#çº¿ç¨‹é—´æ˜¯å¦‚ä½•é€šä¿¡çš„ï¼Ÿ"}},[e._v("#")]),e._v(" çº¿ç¨‹é—´æ˜¯å¦‚ä½•é€šä¿¡çš„ï¼Ÿ")]),e._v(" "),t("p",[e._v("å½“çº¿ç¨‹é—´æ˜¯å¯ä»¥å…±äº«èµ„æºæ—¶ï¼Œçº¿ç¨‹é—´é€šä¿¡æ˜¯åè°ƒå®ƒä»¬çš„é‡è¦çš„æ‰‹æ®µã€‚"),t("code",[e._v("Object")]),e._v(" ç±»ä¸­ "),t("code",[e._v("wait()")]),e._v(", "),t("code",[e._v("notify()")]),e._v(" å’Œ "),t("code",[e._v("notifyAll()")]),e._v(" æ–¹æ³•å¯ä»¥ç”¨äºçº¿ç¨‹é—´é€šä¿¡å…³äºèµ„æºçš„é”çš„çŠ¶æ€ã€‚")]),e._v(" "),t("blockquote",[t("p",[e._v("ğŸ‘‰ å‚è€ƒé˜…è¯»ï¼š"),t("a",{attrs:{href:"http://www.cnblogs.com/dolphin0520/p/3920385.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java å¹¶å‘ç¼–ç¨‹ï¼šçº¿ç¨‹é—´åä½œçš„ä¸¤ç§æ–¹å¼ï¼šwaitã€notifyã€notifyAll å’Œ Condition"),t("OutboundLink")],1)])]),e._v(" "),t("h3",{attrs:{id:"ä¸ºä»€ä¹ˆçº¿ç¨‹é€šä¿¡çš„æ–¹æ³•-wait-notify-å’Œ-notifyall-è¢«å®šä¹‰åœ¨-object-ç±»é‡Œï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆçº¿ç¨‹é€šä¿¡çš„æ–¹æ³•-wait-notify-å’Œ-notifyall-è¢«å®šä¹‰åœ¨-object-ç±»é‡Œï¼Ÿ"}},[e._v("#")]),e._v(" ä¸ºä»€ä¹ˆçº¿ç¨‹é€šä¿¡çš„æ–¹æ³• "),t("code",[e._v("wait()")]),e._v(", "),t("code",[e._v("notify()")]),e._v(" å’Œ "),t("code",[e._v("notifyAll()")]),e._v(" è¢«å®šä¹‰åœ¨ Object ç±»é‡Œï¼Ÿ")]),e._v(" "),t("p",[e._v("Java çš„æ¯ä¸ªå¯¹è±¡ä¸­éƒ½æœ‰ä¸€ä¸ªé”(monitorï¼Œä¹Ÿå¯ä»¥æˆä¸ºç›‘è§†å™¨) å¹¶ä¸” "),t("code",[e._v("wait()")]),e._v("ã€"),t("code",[e._v("notify()")]),e._v(" ç­‰æ–¹æ³•ç”¨äºç­‰å¾…å¯¹è±¡çš„é”æˆ–è€…é€šçŸ¥å…¶ä»–çº¿ç¨‹å¯¹è±¡çš„ç›‘è§†å™¨å¯ç”¨ã€‚åœ¨ Java çš„çº¿ç¨‹ä¸­å¹¶æ²¡æœ‰å¯ä¾›ä»»ä½•å¯¹è±¡ä½¿ç”¨çš„é”å’ŒåŒæ­¥å™¨ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¿™äº›æ–¹æ³•æ˜¯ Object ç±»çš„ä¸€éƒ¨åˆ†ï¼Œè¿™æ · Java çš„æ¯ä¸€ä¸ªç±»éƒ½æœ‰ç”¨äºçº¿ç¨‹é—´é€šä¿¡çš„åŸºæœ¬æ–¹æ³•")]),e._v(" "),t("h3",{attrs:{id:"ä¸ºä»€ä¹ˆ-wait-notify-å’Œ-notifyall-å¿…é¡»åœ¨åŒæ­¥æ–¹æ³•æˆ–è€…åŒæ­¥å—ä¸­è¢«è°ƒç”¨ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆ-wait-notify-å’Œ-notifyall-å¿…é¡»åœ¨åŒæ­¥æ–¹æ³•æˆ–è€…åŒæ­¥å—ä¸­è¢«è°ƒç”¨ï¼Ÿ"}},[e._v("#")]),e._v(" ä¸ºä»€ä¹ˆ "),t("code",[e._v("wait()")]),e._v(", "),t("code",[e._v("notify()")]),e._v(" å’Œ "),t("code",[e._v("notifyAll()")]),e._v(" å¿…é¡»åœ¨åŒæ­¥æ–¹æ³•æˆ–è€…åŒæ­¥å—ä¸­è¢«è°ƒç”¨ï¼Ÿ")]),e._v(" "),t("p",[e._v("å½“ä¸€ä¸ªçº¿ç¨‹éœ€è¦è°ƒç”¨å¯¹è±¡çš„ "),t("code",[e._v("wait()")]),e._v(" æ–¹æ³•çš„æ—¶å€™ï¼Œè¿™ä¸ªçº¿ç¨‹å¿…é¡»æ‹¥æœ‰è¯¥å¯¹è±¡çš„é”ï¼Œæ¥ç€å®ƒå°±ä¼šé‡Šæ”¾è¿™ä¸ªå¯¹è±¡é”å¹¶è¿›å…¥ç­‰å¾…çŠ¶æ€ç›´åˆ°å…¶ä»–çº¿ç¨‹è°ƒç”¨è¿™ä¸ªå¯¹è±¡ä¸Šçš„ "),t("code",[e._v("notify()")]),e._v(" æ–¹æ³•ã€‚åŒæ ·çš„ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹éœ€è¦è°ƒç”¨å¯¹è±¡çš„ "),t("code",[e._v("notify()")]),e._v(" æ–¹æ³•æ—¶ï¼Œå®ƒä¼šé‡Šæ”¾è¿™ä¸ªå¯¹è±¡çš„é”ï¼Œä»¥ä¾¿å…¶ä»–åœ¨ç­‰å¾…çš„çº¿ç¨‹å°±å¯ä»¥å¾—åˆ°è¿™ä¸ªå¯¹è±¡é”ã€‚")]),e._v(" "),t("p",[e._v("ç”±äºæ‰€æœ‰çš„è¿™äº›æ–¹æ³•éƒ½éœ€è¦çº¿ç¨‹æŒæœ‰å¯¹è±¡çš„é”ï¼Œè¿™æ ·å°±åªèƒ½é€šè¿‡åŒæ­¥æ¥å®ç°ï¼Œæ‰€ä»¥ä»–ä»¬åªèƒ½åœ¨åŒæ­¥æ–¹æ³•æˆ–è€…åŒæ­¥å—ä¸­è¢«è°ƒç”¨ã€‚")]),e._v(" "),t("h2",{attrs:{id:"å¹¶å‘æœºåˆ¶çš„åº•å±‚å®ç°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¹¶å‘æœºåˆ¶çš„åº•å±‚å®ç°"}},[e._v("#")]),e._v(" å¹¶å‘æœºåˆ¶çš„åº•å±‚å®ç°")]),e._v(" "),t("h3",{attrs:{id:"volatile-æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#volatile-æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"}},[e._v("#")]),e._v(" "),t("code",[e._v("volatile")]),e._v(" æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ")]),e._v(" "),t("p",[e._v("ä½œç”¨ï¼š")]),e._v(" "),t("ul",[t("li",[e._v("è¢« "),t("code",[e._v("volatile")]),e._v(" å…³é”®å­—ä¿®é¥°çš„å˜é‡æœ‰ä¸¤å±‚å«ä¹‰ï¼š\n"),t("ul",[t("li",[e._v("ä¿è¯äº†ä¸åŒçº¿ç¨‹å¯¹è¿™ä¸ªå˜é‡è¿›è¡Œæ“ä½œæ—¶çš„å¯è§æ€§ï¼Œå³ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†æŸä¸ªå˜é‡çš„å€¼ï¼Œè¿™æ–°å€¼å¯¹å…¶ä»–çº¿ç¨‹æ¥è¯´æ˜¯ç«‹å³å¯è§çš„ã€‚")]),e._v(" "),t("li",[e._v("ç¦æ­¢è¿›è¡ŒæŒ‡ä»¤é‡æ’åºã€‚")])])])]),e._v(" "),t("p",[e._v("åŸç†ï¼š")]),e._v(" "),t("ul",[t("li",[e._v("è§‚å¯ŸåŠ å…¥ "),t("code",[e._v("volatile")]),e._v(" å…³é”®å­—å’Œæ²¡æœ‰åŠ å…¥ "),t("code",[e._v("volatile")]),e._v(" å…³é”®å­—æ—¶æ‰€ç”Ÿæˆçš„æ±‡ç¼–ä»£ç å‘ç°ï¼ŒåŠ å…¥ "),t("code",[e._v("volatile")]),e._v(" å…³é”®å­—æ—¶ï¼Œä¼šå¤šå‡ºä¸€ä¸ª lock å‰ç¼€æŒ‡ä»¤ã€‚lock å‰ç¼€æŒ‡ä»¤å®é™…ä¸Šç›¸å½“äºä¸€ä¸ªå†…å­˜å±éšœï¼ˆä¹Ÿæˆå†…å­˜æ …æ ï¼‰ï¼Œå†…å­˜å±éšœä¼šæä¾› 3 ä¸ªåŠŸèƒ½ï¼š\n"),t("ul",[t("li",[e._v("å®ƒç¡®ä¿æŒ‡ä»¤é‡æ’åºæ—¶ä¸ä¼šæŠŠå…¶åé¢çš„æŒ‡ä»¤æ’åˆ°å†…å­˜å±éšœä¹‹å‰çš„ä½ç½®ï¼Œä¹Ÿä¸ä¼šæŠŠå‰é¢çš„æŒ‡ä»¤æ’åˆ°å†…å­˜å±éšœçš„åé¢ï¼›å³åœ¨æ‰§è¡Œåˆ°å†…å­˜å±éšœè¿™å¥æŒ‡ä»¤æ—¶ï¼Œåœ¨å®ƒå‰é¢çš„æ“ä½œå·²ç»å…¨éƒ¨å®Œæˆï¼›")]),e._v(" "),t("li",[e._v("å®ƒä¼šå¼ºåˆ¶å°†å¯¹ç¼“å­˜çš„ä¿®æ”¹æ“ä½œç«‹å³å†™å…¥ä¸»å­˜ï¼›")]),e._v(" "),t("li",[e._v("å¦‚æœæ˜¯å†™æ“ä½œï¼Œå®ƒä¼šå¯¼è‡´å…¶ä»– CPU ä¸­å¯¹åº”çš„ç¼“å­˜è¡Œæ— æ•ˆã€‚")])])])]),e._v(" "),t("blockquote",[t("p",[e._v("ğŸ‘‰ å‚è€ƒé˜…è¯»ï¼š"),t("a",{attrs:{href:"http://www.cnblogs.com/dolphin0520/p/3920373.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java å¹¶å‘ç¼–ç¨‹ï¼š"),t("code",[e._v("volatile")]),e._v(" å…³é”®å­—è§£æ"),t("OutboundLink")],1)])]),e._v(" "),t("h3",{attrs:{id:"synchronized-æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼ŸåŒæ­¥æ–¹æ³•å’ŒåŒæ­¥å—ï¼Œå“ªä¸ªæ›´å¥½ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#synchronized-æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼ŸåŒæ­¥æ–¹æ³•å’ŒåŒæ­¥å—ï¼Œå“ªä¸ªæ›´å¥½ï¼Ÿ"}},[e._v("#")]),e._v(" "),t("code",[e._v("synchronized")]),e._v(" æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼ŸåŒæ­¥æ–¹æ³•å’ŒåŒæ­¥å—ï¼Œå“ªä¸ªæ›´å¥½ï¼Ÿ")]),e._v(" "),t("p",[e._v("ä½œç”¨ï¼š")]),e._v(" "),t("ul",[t("li",[e._v("ä½¿ç”¨ "),t("code",[e._v("synchronized")]),e._v(" å…³é”®å­—æ¥æ ‡è®°ä¸€ä¸ªæ–¹æ³•æˆ–è€…ä»£ç å—ï¼Œå½“æŸä¸ªçº¿ç¨‹è°ƒç”¨è¯¥å¯¹è±¡çš„ "),t("code",[e._v("synchronized")]),e._v(" æ–¹æ³•æˆ–è€…è®¿é—® "),t("code",[e._v("synchronized")]),e._v(" ä»£ç å—æ—¶ï¼Œè¿™ä¸ªçº¿ç¨‹ä¾¿è·å¾—äº†è¯¥å¯¹è±¡çš„é”ï¼Œå…¶ä»–çº¿ç¨‹æš‚æ—¶æ— æ³•è®¿é—®è¿™ä¸ªæ–¹æ³•ï¼Œåªæœ‰ç­‰å¾…è¿™ä¸ªæ–¹æ³•æ‰§è¡Œå®Œæ¯•æˆ–è€…ä»£ç å—æ‰§è¡Œå®Œæ¯•ï¼Œè¿™ä¸ªçº¿ç¨‹æ‰ä¼šé‡Šæ”¾è¯¥å¯¹è±¡çš„é”ï¼Œå…¶ä»–çº¿ç¨‹æ‰èƒ½æ‰§è¡Œè¿™ä¸ªæ–¹æ³•æˆ–è€…ä»£ç å—ã€‚")]),e._v(" "),t("li",[t("strong",[e._v("JVM åŸºäºè¿›å…¥å’Œé€€å‡º Monitor å¯¹è±¡æ¥å®ç°æ–¹æ³•åŒæ­¥å’Œä»£ç å—åŒæ­¥")]),e._v(" "),t("ul",[t("li",[e._v("å¯¹äºæ™®é€šåŒæ­¥æ–¹æ³•ï¼Œé”å°±æ˜¯å®ä¾‹å¯¹è±¡")]),e._v(" "),t("li",[e._v("å¯¹äºé™æ€åŒæ­¥æ–¹æ³•ï¼Œé”å°±æ˜¯å½“å‰ç±»çš„ Class å¯¹è±¡")]),e._v(" "),t("li",[e._v("å¯¹äºåŒæ­¥ä»£ç å—ï¼Œé”å°±æ˜¯ Synchonized æ‹¬å·é‡Œé…ç½®çš„å¯¹è±¡")])])])]),e._v(" "),t("p",[e._v("åŸç†ï¼š")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("synchronized")]),e._v(" å…³é”®å­—ä¼šé˜»æ­¢å…¶å®ƒçº¿ç¨‹è·å–å½“å‰å¯¹è±¡çš„ç›‘æ§é”ï¼Œè¿™æ ·å°±ä½¿å¾—å½“å‰å¯¹è±¡ä¸­è¢« "),t("code",[e._v("synchronized")]),e._v(" å…³é”®å­—ä¿æŠ¤çš„ä»£ç å—æ— æ³•è¢«å…¶å®ƒçº¿ç¨‹è®¿é—®ï¼Œä¹Ÿå°±æ— æ³•å¹¶å‘æ‰§è¡Œã€‚æ›´é‡è¦çš„æ˜¯ï¼Œsynchronized è¿˜ä¼šåˆ›å»ºä¸€ä¸ªå†…å­˜å±éšœï¼Œå†…å­˜å±éšœæŒ‡ä»¤ä¿è¯äº†æ‰€æœ‰ CPU æ“ä½œç»“æœéƒ½ä¼šç›´æ¥åˆ·åˆ°ä¸»å­˜ä¸­ï¼Œä»è€Œä¿è¯äº†æ“ä½œçš„å†…å­˜å¯è§æ€§ï¼ŒåŒæ—¶ä¹Ÿä½¿å¾—å…ˆè·å¾—è¿™ä¸ªé”çš„çº¿ç¨‹çš„æ‰€æœ‰æ“ä½œï¼Œéƒ½ happens-before äºéšåè·å¾—è¿™ä¸ªé”çš„çº¿ç¨‹çš„æ“ä½œã€‚")]),e._v(" "),t("li",[e._v("JDK6 ä¼˜åŒ–\n"),t("ul",[t("li",[e._v("é”ä¸€å…±æœ‰ 4 ç§çŠ¶æ€ï¼Œçº§åˆ«ä»ä½åˆ°é«˜ä¸ºï¼šæ— é”çŠ¶æ€ã€åå‘é”çŠ¶æ€ã€è½»é‡çº§é”çŠ¶æ€å’Œé‡é‡çº§é”çŠ¶æ€ï¼Œè¿™å‡ ä¸ªçŠ¶æ€ä¼šéšç€ç«äº‰æƒ…å†µé€æ¸å‡çº§ã€‚"),t("strong",[e._v("é”å¯ä»¥å‡çº§ä½†ä¸èƒ½é™çº§")]),e._v("ï¼Œç›®çš„æ˜¯ä¸ºäº†æé«˜è·å¾—é”å’Œé‡Šæ”¾é”çš„æ•ˆç‡\n"),t("ul",[t("li",[e._v("åå‘é”ï¼šå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œé”ä¸ä»…ä¸å­˜åœ¨å¤šçº¿ç¨‹ç«äº‰ï¼Œè€Œä¸”æ€»æ˜¯åŒä¸€ä¸ªçº¿ç¨‹å¤šæ¬¡è·å–ï¼Œä¸ºäº†è®©çº¿ç¨‹è·å¾—é”çš„ä»£ä»·æ›´ä½å¼•å…¥åå‘é”ã€‚å½“æŸä¸€çº¿ç¨‹è®¿é—®åŒæ­¥å—æ—¶ï¼Œä¼šåœ¨å¯¹è±¡å¤´å’Œæ ˆå¸§ä¸­çš„çè®°å½•é‡Œå­˜å‚¨é”åå‘çš„çº¿ç¨‹ IDï¼Œä»¥åè¯¥çº¿ç¨‹åœ¨è¿›å…¥è¯¥åŒæ­¥å—çš„æ—¶å€™ï¼Œä¸éœ€è¦å†æ¬¡ä½¿ç”¨ CAS åŸå­æ“ä½œè¿›è¡ŒåŠ é”å’Œè§£é”ï¼Œåªéœ€è¦ç®€å•çš„æµ‹è¯•ä¸€ä¸‹å¯¹è±¡å¤´ä¸­çš„ Mark Word æ˜¯å¦å­˜åœ¨æŒ‡å‘å½“å‰çº¿ç¨‹çš„åå‘é”ã€‚å¦‚æœæµ‹è¯•æˆåŠŸï¼Œåˆ™è¡¨ç¤ºè·å¾—é”ï¼Œå¦åˆ™æ£€æµ‹æ˜¯å¦è®¾ç½®æœ‰åå‘é”ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ä½¿ç”¨ CAS ç«äº‰é”ï¼Œå¦åˆ™åå‘é”æŒ‡å‘è¯¥çº¿ç¨‹ã€‚")]),e._v(" "),t("li",[e._v("è½»é‡çº§é”ï¼šçº¿ç¨‹æ‰§è¡ŒåŒæ­¥å—ä¹‹å‰ï¼Œä¼šåœ¨çº¿ç¨‹ç§æœ‰çš„æ ˆå¸§ä¸­å¼€è¾Ÿç”¨äºå­˜å‚¨é”è®°å½•çš„ç©ºé—´ï¼Œç§°ä¸º Displaced Mark Wordã€‚ç„¶åçº¿ç¨‹å°è¯•å°†å¯¹è±¡ Mark Word çš„æ›¿æ¢ä¸ºæŒ‡å‘ Displaced Mark Word è®°å½•çš„æŒ‡é’ˆï¼Œå¦‚æœæˆåŠŸï¼Œé‚£ä¹ˆå½“å‰çº¿ç¨‹è·å¾—é”ï¼Œå¦‚æœå¤±è´¥ï¼Œé‚£ä¹ˆä½¿ç”¨è‡ªæ—‹è·å¾—é”ã€‚")])])])])])]),e._v(" "),t("p",[e._v("åŒæ­¥æ–¹æ³•å’ŒåŒæ­¥å—ï¼Œå“ªä¸ªæ›´å¥½ï¼Ÿ")]),e._v(" "),t("ul",[t("li",[e._v("åŒæ­¥å—æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚")]),e._v(" "),t("li",[e._v("å› ä¸ºå®ƒä¸ä¼šé”ä½æ•´ä¸ªå¯¹è±¡ï¼ˆå½“ç„¶ä½ ä¹Ÿå¯ä»¥è®©å®ƒé”ä½æ•´ä¸ªå¯¹è±¡ï¼‰ã€‚åŒæ­¥æ–¹æ³•ä¼šé”ä½æ•´ä¸ªå¯¹è±¡ï¼Œå“ªæ€•è¿™ä¸ªç±»ä¸­æœ‰å¤šä¸ªä¸ç›¸å…³è”çš„åŒæ­¥å—ï¼Œè¿™é€šå¸¸ä¼šå¯¼è‡´ä»–ä»¬åœæ­¢æ‰§è¡Œå¹¶éœ€è¦ç­‰å¾…è·å¾—è¿™ä¸ªå¯¹è±¡ä¸Šçš„é”ã€‚")])]),e._v(" "),t("blockquote",[t("p",[e._v("ğŸ‘‰ å‚è€ƒé˜…è¯»ï¼š"),t("a",{attrs:{href:"http://www.cnblogs.com/dolphin0520/p/3923737.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java å¹¶å‘ç¼–ç¨‹ï¼šsynchronized"),t("OutboundLink")],1)])]),e._v(" "),t("h3",{attrs:{id:"volatile-å’Œ-synchronized-çš„åŒºåˆ«ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#volatile-å’Œ-synchronized-çš„åŒºåˆ«ï¼Ÿ"}},[e._v("#")]),e._v(" "),t("code",[e._v("volatile")]),e._v(" å’Œ "),t("code",[e._v("synchronized")]),e._v(" çš„åŒºåˆ«ï¼Ÿ")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("volatile")]),e._v(" æœ¬è´¨æ˜¯åœ¨å‘Šè¯‰ jvm å½“å‰å˜é‡åœ¨å¯„å­˜å™¨ï¼ˆå·¥ä½œå†…å­˜ï¼‰ä¸­çš„å€¼æ˜¯ä¸ç¡®å®šçš„ï¼Œéœ€è¦ä»ä¸»å­˜ä¸­è¯»å–ï¼› "),t("code",[e._v("synchronized")]),e._v(" åˆ™æ˜¯é”å®šå½“å‰å˜é‡ï¼Œåªæœ‰å½“å‰çº¿ç¨‹å¯ä»¥è®¿é—®è¯¥å˜é‡ï¼Œå…¶ä»–çº¿ç¨‹è¢«é˜»å¡ä½ã€‚")]),e._v(" "),t("li",[t("code",[e._v("volatile")]),e._v(" ä»…èƒ½ä½¿ç”¨åœ¨å˜é‡çº§åˆ«ï¼›synchronized åˆ™å¯ä»¥ä½¿ç”¨åœ¨å˜é‡ã€æ–¹æ³•ã€å’Œç±»çº§åˆ«çš„ã€‚")]),e._v(" "),t("li",[t("code",[e._v("volatile")]),e._v(" ä»…èƒ½å®ç°å˜é‡çš„ä¿®æ”¹å¯è§æ€§ï¼Œä¸èƒ½ä¿è¯åŸå­æ€§ï¼›è€Œ "),t("code",[e._v("synchronized")]),e._v(" åˆ™å¯ä»¥ä¿è¯å˜é‡çš„ä¿®æ”¹å¯è§æ€§å’ŒåŸå­æ€§")]),e._v(" "),t("li",[t("code",[e._v("volatile")]),e._v(" ä¸ä¼šé€ æˆçº¿ç¨‹çš„é˜»å¡ï¼›synchronized å¯èƒ½ä¼šé€ æˆçº¿ç¨‹çš„é˜»å¡ã€‚")]),e._v(" "),t("li",[t("code",[e._v("volatile")]),e._v(" æ ‡è®°çš„å˜é‡ä¸ä¼šè¢«ç¼–è¯‘å™¨ä¼˜åŒ–ï¼›synchronized æ ‡è®°çš„å˜é‡å¯ä»¥è¢«ç¼–è¯‘å™¨ä¼˜åŒ–ã€‚")])]),e._v(" "),t("blockquote",[t("p",[e._v("ğŸ‘‰ å‚è€ƒé˜…è¯»ï¼š"),t("a",{attrs:{href:"https://blog.csdn.net/suifeng3051/article/details/52611233",target:"_blank",rel:"noopener noreferrer"}},[e._v("volatile å’Œ "),t("code",[e._v("synchronized")]),e._v(" çš„åŒºåˆ«"),t("OutboundLink")],1)])]),e._v(" "),t("h3",{attrs:{id:"cas-æ˜¯æŒ‡ä»€ä¹ˆï¼Ÿcas-çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cas-æ˜¯æŒ‡ä»€ä¹ˆï¼Ÿcas-çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"}},[e._v("#")]),e._v(" CAS æ˜¯æŒ‡ä»€ä¹ˆï¼ŸCAS çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ")]),e._v(" "),t("h3",{attrs:{id:"cas-çš„ä¸‰å¤§é—®é¢˜ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cas-çš„ä¸‰å¤§é—®é¢˜ï¼Ÿ"}},[e._v("#")]),e._v(" CAS çš„ä¸‰å¤§é—®é¢˜ï¼Ÿ")]),e._v(" "),t("ol",[t("li",[e._v("ABA é—®é¢˜ï¼šå› ä¸º CAS éœ€è¦åœ¨æ“ä½œå€¼çš„æ—¶å€™æ£€æŸ¥ä¸‹å€¼æœ‰æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœæ²¡æœ‰å‘ç”Ÿå˜åŒ–åˆ™æ›´æ–°ï¼Œä½†æ˜¯å¦‚æœä¸€ä¸ªå€¼åŸæ¥æ˜¯ Aï¼Œå˜æˆäº† Bï¼Œåˆå˜æˆäº† Aï¼Œé‚£ä¹ˆä½¿ç”¨ CAS è¿›è¡Œæ£€æŸ¥æ—¶ä¼šå‘ç°å®ƒçš„å€¼æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯å®é™…ä¸Šå´å˜åŒ–äº†ã€‚ABA é—®é¢˜çš„è§£å†³æ€è·¯å°±æ˜¯ä½¿ç”¨ç‰ˆæœ¬å·ã€‚åœ¨å˜é‡å‰é¢è¿½åŠ ä¸Šç‰ˆæœ¬å·ï¼Œæ¯æ¬¡å˜é‡æ›´æ–°çš„æ—¶å€™æŠŠç‰ˆæœ¬å·åŠ ä¸€ï¼Œé‚£ä¹ˆ Aï¼Bï¼A å°±ä¼šå˜æˆ 1A-2Bï¼3Aã€‚")]),e._v(" "),t("li",[e._v("å¾ªç¯æ—¶é—´é•¿å¼€é”€å¤§ã€‚è‡ªæ—‹ CAS å¦‚æœé•¿æ—¶é—´ä¸æˆåŠŸï¼Œä¼šç»™ CPU å¸¦æ¥éå¸¸å¤§çš„æ‰§è¡Œå¼€é”€ã€‚å¦‚æœ JVM èƒ½æ”¯æŒå¤„ç†å™¨æä¾›çš„ pause æŒ‡ä»¤é‚£ä¹ˆæ•ˆç‡ä¼šæœ‰ä¸€å®šçš„æå‡ï¼Œpause æŒ‡ä»¤æœ‰ä¸¤ä¸ªä½œç”¨ï¼Œç¬¬ä¸€å®ƒå¯ä»¥å»¶è¿Ÿæµæ°´çº¿æ‰§è¡ŒæŒ‡ä»¤ï¼ˆde-pipelineï¼‰,ä½¿ CPU ä¸ä¼šæ¶ˆè€—è¿‡å¤šçš„æ‰§è¡Œèµ„æºï¼Œå»¶è¿Ÿçš„æ—¶é—´å–å†³äºå…·ä½“å®ç°çš„ç‰ˆæœ¬ï¼Œåœ¨ä¸€äº›å¤„ç†å™¨ä¸Šå»¶è¿Ÿæ—¶é—´æ˜¯é›¶ã€‚ç¬¬äºŒå®ƒå¯ä»¥é¿å…åœ¨é€€å‡ºå¾ªç¯çš„æ—¶å€™å› å†…å­˜é¡ºåºå†²çªï¼ˆmemory order violationï¼‰è€Œå¼•èµ· CPU æµæ°´çº¿è¢«æ¸…ç©ºï¼ˆCPU pipeline flushï¼‰ï¼Œä»è€Œæé«˜ CPU çš„æ‰§è¡Œæ•ˆç‡ã€‚")]),e._v(" "),t("li",[e._v("åªèƒ½ä¿è¯ä¸€ä¸ªå…±äº«å˜é‡çš„åŸå­æ“ä½œã€‚å½“å¯¹ä¸€ä¸ªå…±äº«å˜é‡æ‰§è¡Œæ“ä½œæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¾ªç¯ CAS çš„æ–¹å¼æ¥ä¿è¯åŸå­æ“ä½œï¼Œä½†æ˜¯å¯¹å¤šä¸ªå…±äº«å˜é‡æ“ä½œæ—¶ï¼Œå¾ªç¯ CAS å°±æ— æ³•ä¿è¯æ“ä½œçš„åŸå­æ€§ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨é”ï¼Œæˆ–è€…æœ‰ä¸€ä¸ªå–å·§çš„åŠæ³•ï¼Œå°±æ˜¯æŠŠå¤šä¸ªå…±äº«å˜é‡åˆå¹¶æˆä¸€ä¸ªå…±äº«å˜é‡æ¥æ“ä½œã€‚æ¯”å¦‚æœ‰ä¸¤ä¸ªå…±äº«å˜é‡ i ï¼ 2,j=aï¼Œåˆå¹¶ä¸€ä¸‹ ij=2aï¼Œç„¶åç”¨ CAS æ¥æ“ä½œ ijã€‚ä» Java1.5 å¼€å§‹ JDK æä¾›äº† AtomicReference ç±»æ¥ä¿è¯å¼•ç”¨å¯¹è±¡ä¹‹é—´çš„åŸå­æ€§ï¼Œä½ å¯ä»¥æŠŠå¤šä¸ªå˜é‡æ”¾åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œæ¥è¿›è¡Œ CAS æ“ä½œã€‚")])]),e._v(" "),t("h3",{attrs:{id:"threadlocal-æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿthreadlocal-çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#threadlocal-æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿthreadlocal-çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"}},[e._v("#")]),e._v(" "),t("code",[e._v("ThreadLocal")]),e._v(" æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"),t("code",[e._v("ThreadLocal")]),e._v(" çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ")]),e._v(" "),t("p",[t("strong",[e._v("ThreadLocal æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ")])]),e._v(" "),t("p",[t("code",[e._v("ThreadLocal")]),e._v(" ä¸ºå˜é‡åœ¨æ¯ä¸ªçº¿ç¨‹ä¸­éƒ½åˆ›å»ºäº†ä¸€ä¸ªå‰¯æœ¬ï¼Œé‚£ä¹ˆæ¯ä¸ªçº¿ç¨‹å¯ä»¥è®¿é—®è‡ªå·±å†…éƒ¨çš„å‰¯æœ¬å˜é‡ã€‚")]),e._v(" "),t("p",[t("strong",[e._v("ThreadLocal çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ")])]),e._v(" "),t("p",[e._v("é¦–å…ˆï¼Œåœ¨æ¯ä¸ªçº¿ç¨‹ "),t("code",[e._v("Thread")]),e._v(" å†…éƒ¨æœ‰ä¸€ä¸ª "),t("code",[e._v("ThreadLocal.ThreadLocalMap")]),e._v(" ç±»å‹çš„æˆå‘˜å˜é‡ threadLocalsï¼Œè¿™ä¸ª threadLocals å°±æ˜¯ç”¨æ¥å­˜å‚¨å®é™…çš„å˜é‡å‰¯æœ¬çš„ï¼Œkey ä¸ºå½“å‰ "),t("code",[e._v("ThreadLocal")]),e._v(" å˜é‡ï¼Œvalue ä¸ºå˜é‡å‰¯æœ¬ï¼ˆå³ T ç±»å‹çš„å˜é‡ï¼‰ã€‚")]),e._v(" "),t("p",[e._v("åˆå§‹æ—¶ï¼Œåœ¨ "),t("code",[e._v("Thread")]),e._v(" é‡Œé¢ï¼ŒthreadLocals ä¸ºç©ºã€‚å½“é€šè¿‡ "),t("code",[e._v("ThreadLocal")]),e._v(" å˜é‡è°ƒç”¨ "),t("code",[e._v("get()")]),e._v(" æ–¹æ³•æˆ–è€… "),t("code",[e._v("set()")]),e._v(" æ–¹æ³•ï¼Œå°±ä¼šå¯¹ "),t("code",[e._v("Thread")]),e._v(" ç±»ä¸­çš„ threadLocals è¿›è¡Œåˆå§‹åŒ–ï¼Œå¹¶ä¸”ä»¥å½“å‰ "),t("code",[e._v("ThreadLocal")]),e._v(" å˜é‡ä¸ºé”®å€¼ï¼Œä»¥ "),t("code",[e._v("ThreadLocal")]),e._v(" è¦ä¿å­˜çš„å‰¯æœ¬å˜é‡ä¸º valueï¼Œå­˜åˆ° threadLocalsã€‚")]),e._v(" "),t("p",[e._v("ç„¶ååœ¨å½“å‰çº¿ç¨‹é‡Œé¢ï¼Œå¦‚æœè¦ä½¿ç”¨å‰¯æœ¬å˜é‡ï¼Œå°±å¯ä»¥é€šè¿‡ get æ–¹æ³•åœ¨ threadLocals é‡Œé¢æŸ¥æ‰¾ã€‚")]),e._v(" "),t("p",[e._v("éœ€è¦æ³¨æ„çš„æ˜¯ï¼š"),t("code",[e._v("ThreadLocalMap.Entry")]),e._v(" ç»§æ‰¿äº† "),t("code",[e._v("WeakReference")]),e._v("ã€‚ThreadLocalMap ä½¿ç”¨å®ƒçš„ç›®çš„æ˜¯ï¼šå½“ threadLocal å®ä¾‹å¯ä»¥è¢« GC å›æ”¶æ—¶ï¼Œç³»ç»Ÿå¯ä»¥æ£€æµ‹åˆ°è¯¥ threadLocal å¯¹åº”çš„ Entry æ˜¯å¦å·²ç»è¿‡æœŸï¼ˆæ ¹æ® "),t("code",[e._v("reference.get() == null")]),e._v(" æ¥åˆ¤æ–­ï¼Œå¦‚æœä¸º true åˆ™è¡¨ç¤ºè¿‡æœŸï¼Œç¨‹åºå†…éƒ¨ç§°ä¸º stale slotsï¼‰æ¥è‡ªåŠ¨åšä¸€äº›æ¸…é™¤å·¥ä½œï¼Œå¦åˆ™å¦‚æœä¸æ¸…é™¤çš„è¯å®¹æ˜“äº§ç”Ÿå†…å­˜æ— æ³•é‡Šæ”¾çš„é—®é¢˜ï¼švalue å¯¹åº”çš„å¯¹è±¡å³ä½¿ä¸å†ä½¿ç”¨ï¼Œä½†ç”±äºè¢« threadLocalMap æ‰€å¼•ç”¨å¯¼è‡´æ— æ³•è¢« GC å›æ”¶ã€‚å®é™…ä»£ç ä¸­ï¼ŒThreadLocalMap ä¼šåœ¨ setï¼Œget ä»¥åŠ resize ç­‰æ–¹æ³•ä¸­å¯¹ stale slots åšè‡ªåŠ¨åˆ é™¤ï¼ˆset ä»¥åŠ get ä¸ä¿è¯æ‰€æœ‰è¿‡æœŸ slots ä¼šåœ¨æ“ä½œä¸­ä¼šè¢«åˆ é™¤ï¼Œè€Œ resize åˆ™ä¼šåˆ é™¤ threadLocalMap ä¸­æ‰€æœ‰çš„è¿‡æœŸ slotsï¼‰ã€‚å½“ç„¶å°† threadLocal å¯¹è±¡è®¾ç½®ä¸º null å¹¶ä¸èƒ½å®Œå…¨é¿å…å†…å­˜æ³„éœ²å¯¹è±¡ï¼Œæœ€å®‰å…¨çš„åŠæ³•ä»ç„¶æ˜¯è°ƒç”¨ ThreadLocal çš„ remove æ–¹æ³•ï¼Œæ¥å½»åº•é¿å…å¯èƒ½çš„å†…å­˜æ³„éœ²ã€‚")]),e._v(" "),t("blockquote",[t("p",[e._v("ğŸ‘‰ å‚è€ƒé˜…è¯»ï¼š"),t("a",{attrs:{href:"https://www.cnblogs.com/dolphin0520/p/3920407.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java å¹¶å‘ç¼–ç¨‹ï¼šæ·±å…¥å‰–æ ThreadLocal"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"å†…å­˜æ¨¡å‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å†…å­˜æ¨¡å‹"}},[e._v("#")]),e._v(" å†…å­˜æ¨¡å‹")]),e._v(" "),t("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯-java-å†…å­˜æ¨¡å‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯-java-å†…å­˜æ¨¡å‹"}},[e._v("#")]),e._v(" ä»€ä¹ˆæ˜¯ Java å†…å­˜æ¨¡å‹")]),e._v(" "),t("ul",[t("li",[e._v("Java å†…å­˜æ¨¡å‹å³ Java Memory Modelï¼Œç®€ç§° JMMã€‚JMM å®šä¹‰äº† JVM åœ¨è®¡ç®—æœºå†…å­˜(RAM)ä¸­çš„å·¥ä½œæ–¹å¼ã€‚JMM æ˜¯éš¶å±äº JVM çš„ã€‚")]),e._v(" "),t("li",[e._v("å¹¶å‘ç¼–ç¨‹é¢†åŸŸä¸¤ä¸ªå…³é”®é—®é¢˜ï¼šçº¿ç¨‹é—´é€šä¿¡å’Œçº¿ç¨‹é—´åŒæ­¥")]),e._v(" "),t("li",[e._v("çº¿ç¨‹é—´é€šä¿¡æœºåˆ¶\n"),t("ul",[t("li",[e._v("å…±äº«å†…å­˜ - çº¿ç¨‹é—´é€šè¿‡å†™-è¯»å†…å­˜ä¸­çš„å…¬å…±çŠ¶æ€æ¥éšå¼è¿›è¡Œé€šä¿¡ã€‚")]),e._v(" "),t("li",[e._v("æ¶ˆæ¯ä¼ é€’ - java ä¸­å…¸å‹çš„æ¶ˆæ¯ä¼ é€’æ–¹å¼å°±æ˜¯ wait()å’Œ notify()ã€‚")])])]),e._v(" "),t("li",[e._v("çº¿ç¨‹é—´åŒæ­¥æœºåˆ¶\n"),t("ul",[t("li",[e._v("åœ¨å…±äº«å†…å­˜æ¨¡å‹ä¸­ï¼Œå¿…é¡»æ˜¾ç¤ºæŒ‡å®šæŸä¸ªæ–¹æ³•æˆ–æŸæ®µä»£ç åœ¨çº¿ç¨‹é—´äº’æ–¥åœ°æ‰§è¡Œã€‚")]),e._v(" "),t("li",[e._v("åœ¨æ¶ˆæ¯ä¼ é€’æ¨¡å‹ä¸­ï¼Œç”±äºå‘é€æ¶ˆæ¯å¿…é¡»åœ¨æ¥æ”¶æ¶ˆæ¯ä¹‹å‰ï¼Œå› æ­¤åŒæ­¥æ˜¯éšå¼è¿›è¡Œçš„ã€‚")])])]),e._v(" "),t("li",[e._v("Java çš„å¹¶å‘é‡‡ç”¨çš„æ˜¯å…±äº«å†…å­˜æ¨¡å‹")]),e._v(" "),t("li",[e._v("JMM å†³å®šä¸€ä¸ªçº¿ç¨‹å¯¹å…±äº«å˜é‡çš„å†™å…¥ä½•æ—¶å¯¹å¦ä¸€ä¸ªçº¿ç¨‹å¯è§ã€‚")]),e._v(" "),t("li",[e._v("çº¿ç¨‹ä¹‹é—´çš„å…±äº«å˜é‡å­˜å‚¨åœ¨ä¸»å†…å­˜ï¼ˆmain memoryï¼‰ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç§æœ‰çš„æœ¬åœ°å†…å­˜ï¼ˆlocal memoryï¼‰ï¼Œæœ¬åœ°å†…å­˜ä¸­å­˜å‚¨äº†è¯¥çº¿ç¨‹ä»¥è¯»/å†™å…±äº«å˜é‡çš„å‰¯æœ¬ã€‚")]),e._v(" "),t("li",[e._v("JMM æŠŠå†…å­˜åˆ†æˆäº†ä¸¤éƒ¨åˆ†ï¼šçº¿ç¨‹æ ˆåŒºå’Œå †åŒº\n"),t("ul",[t("li",[e._v("çº¿ç¨‹æ ˆ\n"),t("ul",[t("li",[e._v("JVM ä¸­è¿è¡Œçš„æ¯ä¸ªçº¿ç¨‹éƒ½æ‹¥æœ‰è‡ªå·±çš„çº¿ç¨‹æ ˆï¼Œçº¿ç¨‹æ ˆåŒ…å«äº†å½“å‰çº¿ç¨‹æ‰§è¡Œçš„æ–¹æ³•è°ƒç”¨ç›¸å…³ä¿¡æ¯ï¼Œæˆ‘ä»¬ä¹ŸæŠŠå®ƒç§°ä½œè°ƒç”¨æ ˆã€‚éšç€ä»£ç çš„ä¸æ–­æ‰§è¡Œï¼Œè°ƒç”¨æ ˆä¼šä¸æ–­å˜åŒ–ã€‚")]),e._v(" "),t("li",[e._v("çº¿ç¨‹æ ˆè¿˜åŒ…å«äº†å½“å‰æ–¹æ³•çš„æ‰€æœ‰æœ¬åœ°å˜é‡ä¿¡æ¯ã€‚çº¿ç¨‹ä¸­çš„æœ¬åœ°å˜é‡å¯¹å…¶å®ƒçº¿ç¨‹æ˜¯ä¸å¯è§çš„ã€‚")])])]),e._v(" "),t("li",[e._v("å †åŒº\n"),t("ul",[t("li",[e._v("å †åŒºåŒ…å«äº† Java åº”ç”¨åˆ›å»ºçš„æ‰€æœ‰å¯¹è±¡ä¿¡æ¯ï¼Œä¸ç®¡å¯¹è±¡æ˜¯å“ªä¸ªçº¿ç¨‹åˆ›å»ºçš„ï¼Œå…¶ä¸­çš„å¯¹è±¡åŒ…æ‹¬åŸå§‹ç±»å‹çš„å°è£…ç±»ï¼ˆå¦‚ Byteã€Integerã€Long ç­‰ç­‰ï¼‰ã€‚ä¸ç®¡å¯¹è±¡æ˜¯å±äºä¸€ä¸ªæˆå‘˜å˜é‡è¿˜æ˜¯æ–¹æ³•ä¸­çš„æœ¬åœ°å˜é‡ï¼Œå®ƒéƒ½ä¼šè¢«å­˜å‚¨åœ¨å †åŒºã€‚")])])]),e._v(" "),t("li",[e._v("ä¸€ä¸ªæœ¬åœ°å˜é‡å¦‚æœæ˜¯åŸå§‹ç±»å‹ï¼Œé‚£ä¹ˆå®ƒä¼šè¢«å®Œå…¨å­˜å‚¨åˆ°æ ˆåŒºã€‚")]),e._v(" "),t("li",[e._v("ä¸€ä¸ªæœ¬åœ°å˜é‡ä¹Ÿæœ‰å¯èƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæœ¬åœ°å¼•ç”¨ä¼šè¢«å­˜å‚¨åˆ°æ ˆä¸­ï¼Œä½†æ˜¯å¯¹è±¡æœ¬èº«ä»ç„¶å­˜å‚¨åœ¨å †åŒºã€‚")]),e._v(" "),t("li",[e._v("å¯¹äºä¸€ä¸ªå¯¹è±¡çš„æˆå‘˜æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•ä¸­åŒ…å«æœ¬åœ°å˜é‡ï¼Œä»éœ€è¦å­˜å‚¨åœ¨æ ˆåŒºï¼Œå³ä½¿å®ƒä»¬æ‰€å±çš„å¯¹è±¡åœ¨å †åŒºã€‚")]),e._v(" "),t("li",[e._v("å¯¹äºä¸€ä¸ªå¯¹è±¡çš„æˆå‘˜å˜é‡ï¼Œä¸ç®¡å®ƒæ˜¯åŸå§‹ç±»å‹è¿˜æ˜¯åŒ…è£…ç±»å‹ï¼Œéƒ½ä¼šè¢«å­˜å‚¨åˆ°å †åŒºã€‚")])])])]),e._v(" "),t("p",[t("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/java/javacore/concurrent/java-memory-model_3.png",alt:"img"}})]),e._v(" "),t("blockquote",[t("p",[e._v("ğŸ‘‰ å‚è€ƒé˜…è¯»ï¼š"),t("a",{attrs:{href:"https://blog.csdn.net/suifeng3051/article/details/52611310",target:"_blank",rel:"noopener noreferrer"}},[e._v("å…¨é¢ç†è§£ Java å†…å­˜æ¨¡å‹"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"åŒæ­¥å®¹å™¨å’Œå¹¶å‘å®¹å™¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åŒæ­¥å®¹å™¨å’Œå¹¶å‘å®¹å™¨"}},[e._v("#")]),e._v(" åŒæ­¥å®¹å™¨å’Œå¹¶å‘å®¹å™¨")]),e._v(" "),t("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯åŒæ­¥å®¹å™¨ï¼Ÿæœ‰å“ªäº›å¸¸è§åŒæ­¥å®¹å™¨ï¼Ÿå®ƒä»¬æ˜¯å¦‚ä½•å®ç°çº¿ç¨‹å®‰å…¨çš„ï¼ŸåŒæ­¥å®¹å™¨çœŸçš„çº¿ç¨‹å®‰å…¨å—ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯åŒæ­¥å®¹å™¨ï¼Ÿæœ‰å“ªäº›å¸¸è§åŒæ­¥å®¹å™¨ï¼Ÿå®ƒä»¬æ˜¯å¦‚ä½•å®ç°çº¿ç¨‹å®‰å…¨çš„ï¼ŸåŒæ­¥å®¹å™¨çœŸçš„çº¿ç¨‹å®‰å…¨å—ï¼Ÿ"}},[e._v("#")]),e._v(" ä»€ä¹ˆæ˜¯åŒæ­¥å®¹å™¨ï¼Ÿæœ‰å“ªäº›å¸¸è§åŒæ­¥å®¹å™¨ï¼Ÿå®ƒä»¬æ˜¯å¦‚ä½•å®ç°çº¿ç¨‹å®‰å…¨çš„ï¼ŸåŒæ­¥å®¹å™¨çœŸçš„çº¿ç¨‹å®‰å…¨å—ï¼Ÿ")]),e._v(" "),t("ul",[t("li",[e._v("åŒæ­¥å®¹å™¨æ˜¯æŒ‡ Java ä¸­ä½¿ç”¨ "),t("code",[e._v("synchronized")]),e._v(" å…³é”®å­—ä¿®é¥°æ–¹æ³•ä»¥ä¿è¯æ–¹æ³•çº¿ç¨‹å®‰å…¨çš„å®¹å™¨ã€‚")]),e._v(" "),t("li",[e._v("å¸¸è§çš„åŒæ­¥å®¹å™¨æœ‰ Vectorã€HashTableã€Stackï¼Œä¸ä¹‹ç›¸å¯¹åº”çš„ ArrayListã€HashMapã€LinkedList åˆ™æ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚")]),e._v(" "),t("li",[e._v("åŒæ­¥å®¹å™¨ä¹‹æ‰€ä»¥è¯´æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ˜¯å› ä¸ºå®ƒä»¬çš„æ–¹æ³•è¢« "),t("code",[e._v("synchronized")]),e._v(" å…³é”®å­—ä¿®é¥°ï¼Œä»è€Œä¿è¯äº†å½“æœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œæ–¹æ³•æ—¶ï¼Œå…¶ä»–çº¿ç¨‹è¢«é˜»å¡ã€‚")]),e._v(" "),t("li",[e._v("åŒæ­¥å®¹å™¨ä¸­çš„æ‰€æœ‰è‡ªå¸¦æ–¹æ³•éƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚ä½†æ˜¯ï¼Œå¯¹è¿™äº›é›†åˆç±»çš„å¤åˆæ“ä½œæ— æ³•ä¿è¯å…¶çº¿ç¨‹å®‰å…¨æ€§ã€‚éœ€è¦å®¢æˆ·ç«¯é€šè¿‡ä¸»åŠ¨åŠ é”æ¥ä¿è¯ã€‚\n"),t("ul",[t("li",[e._v("å…¸å‹åœºæ™¯ï¼šä½¿ç”¨åŒæ­¥å®¹å™¨åšè¿­ä»£æ“ä½œæ—¶ï¼Œå¦‚æœä¸å¯¹å¤–éƒ¨åšåŒæ­¥ï¼Œå°±å¯èƒ½å‡ºç° ConcurrentModificationException å¼‚å¸¸ã€‚")]),e._v(" "),t("li",[e._v("ç»“è®ºï¼šç”±äºåŒæ­¥å®¹å™¨ä¸èƒ½å½»åº•ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œä¸”æ€§èƒ½ä¸é«˜ï¼Œæ‰€ä»¥ä¸å»ºè®®ä½¿ç”¨ã€‚å¦‚æœæƒ³ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„å®¹å™¨ï¼Œå¯ä»¥è€ƒè™‘ juc åŒ…ä¸­æä¾›çš„ ConcurrentHashMap ç­‰å¹¶å‘å®¹å™¨ã€‚")])])])]),e._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("int")]),e._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("i"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("vector"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("i"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("++")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n    vector"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("remove")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),t("blockquote",[t("p",[e._v("ğŸ‘‰ å‚è€ƒé˜…è¯»ï¼š"),t("a",{attrs:{href:"https://www.cnblogs.com/dolphin0520/p/3933404.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java å¹¶å‘ç¼–ç¨‹ï¼šåŒæ­¥å®¹å™¨"),t("OutboundLink")],1)])]),e._v(" "),t("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯å¹¶å‘å®¹å™¨çš„å®ç°ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯å¹¶å‘å®¹å™¨çš„å®ç°ï¼Ÿ"}},[e._v("#")]),e._v(" ä»€ä¹ˆæ˜¯å¹¶å‘å®¹å™¨çš„å®ç°ï¼Ÿ")]),e._v(" "),t("p",[e._v("Java é›†åˆç±»éƒ½æ˜¯å¿«é€Ÿå¤±è´¥çš„ï¼Œè¿™å°±æ„å‘³ç€å½“é›†åˆè¢«æ”¹å˜ä¸”ä¸€ä¸ªçº¿ç¨‹åœ¨ä½¿ç”¨è¿­ä»£å™¨éå†é›†åˆçš„æ—¶å€™ï¼Œè¿­ä»£å™¨çš„ next()æ–¹æ³•å°†æŠ›å‡º ConcurrentModificationException å¼‚å¸¸ã€‚")]),e._v(" "),t("p",[e._v("å¹¶å‘å®¹å™¨æ”¯æŒå¹¶å‘çš„éå†å’Œå¹¶å‘çš„æ›´æ–°ã€‚")]),e._v(" "),t("p",[e._v("ä¸»è¦çš„ç±»æœ‰ ConcurrentHashMap, CopyOnWriteArrayList å’Œ CopyOnWriteArraySetï¼Œé˜…è¯»è¿™ç¯‡æ–‡ç« äº†è§£å¦‚ä½•é¿å… ConcurrentModificationExceptionã€‚")]),e._v(" "),t("h2",{attrs:{id:"å¹¶å‘é”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¹¶å‘é”"}},[e._v("#")]),e._v(" å¹¶å‘é”")]),e._v(" "),t("h3",{attrs:{id:"å¦‚ä½•é¿å…æ­»é”ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•é¿å…æ­»é”ï¼Ÿ"}},[e._v("#")]),e._v(" å¦‚ä½•é¿å…æ­»é”ï¼Ÿ")]),e._v(" "),t("ul",[t("li",[e._v("é¿å…ä¸€ä¸ªçº¿ç¨‹åŒæ—¶è·å–å¤šä¸ªé”")]),e._v(" "),t("li",[e._v("é¿å…ä¸€ä¸ªçº¿ç¨‹åœ¨é”å†…åŒæ—¶å ç”¨å¤šä¸ªèµ„æºï¼Œå°½é‡ä¿è¯æ¯ä¸ªé”åªå ç”¨ä¸€ä¸ªèµ„æº")]),e._v(" "),t("li",[e._v("å°è¯•ä½¿ç”¨å®šæ—¶é” lock.tryLock(timeout)ï¼Œé¿å…é”ä¸€ç›´ä¸èƒ½é‡Šæ”¾")]),e._v(" "),t("li",[e._v("å¯¹äºæ•°æ®åº“é”ï¼ŒåŠ é”å’Œè§£é”å¿…é¡»åœ¨ä¸€ä¸ªæ•°æ®åº“è¿æ¥ä¸­é‡Œï¼Œå¦åˆ™ä¼šå‡ºç°è§£é”å¤±è´¥çš„æƒ…å†µã€‚")])]),e._v(" "),t("h3",{attrs:{id:"java-ä¸­æœ‰å“ªäº›é”ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java-ä¸­æœ‰å“ªäº›é”ï¼Ÿ"}},[e._v("#")]),e._v(" Java ä¸­æœ‰å“ªäº›é”ï¼Ÿ")]),e._v(" "),t("h3",{attrs:{id:"lock-æ¥å£-lock-interface-æ˜¯ä»€ä¹ˆï¼Ÿå¯¹æ¯”åŒæ­¥å®ƒæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lock-æ¥å£-lock-interface-æ˜¯ä»€ä¹ˆï¼Ÿå¯¹æ¯”åŒæ­¥å®ƒæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ"}},[e._v("#")]),e._v(" Lock æ¥å£(Lock interface)æ˜¯ä»€ä¹ˆï¼Ÿå¯¹æ¯”åŒæ­¥å®ƒæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ")]),e._v(" "),t("p",[e._v("Lock æ¥å£æ¯”åŒæ­¥æ–¹æ³•å’ŒåŒæ­¥å—æä¾›äº†æ›´å…·æ‰©å±•æ€§çš„é”æ“ä½œã€‚ä»–ä»¬å…è®¸æ›´çµæ´»çš„ç»“æ„ï¼Œå¯ä»¥å…·æœ‰å®Œå…¨ä¸åŒçš„æ€§è´¨ï¼Œå¹¶ä¸”å¯ä»¥æ”¯æŒå¤šä¸ªç›¸å…³ç±»çš„æ¡ä»¶å¯¹è±¡ã€‚")]),e._v(" "),t("p",[e._v("å®ƒçš„ä¼˜åŠ¿æœ‰ï¼š")]),e._v(" "),t("p",[e._v("å¯ä»¥ä½¿é”æ›´å…¬å¹³å¯ä»¥ä½¿çº¿ç¨‹åœ¨ç­‰å¾…é”çš„æ—¶å€™å“åº”ä¸­æ–­å¯ä»¥è®©çº¿ç¨‹å°è¯•è·å–é”ï¼Œå¹¶åœ¨æ— æ³•è·å–é”çš„æ—¶å€™ç«‹å³è¿”å›æˆ–è€…ç­‰å¾…ä¸€æ®µæ—¶é—´å¯ä»¥åœ¨ä¸åŒçš„èŒƒå›´ï¼Œä»¥ä¸åŒçš„é¡ºåºè·å–å’Œé‡Šæ”¾é”é˜…è¯»æ›´å¤šå…³äºé”çš„ä¾‹å­")]),e._v(" "),t("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯é˜»å¡é˜Ÿåˆ—ï¼Ÿå¦‚ä½•ä½¿ç”¨é˜»å¡é˜Ÿåˆ—æ¥å®ç°ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯é˜»å¡é˜Ÿåˆ—ï¼Ÿå¦‚ä½•ä½¿ç”¨é˜»å¡é˜Ÿåˆ—æ¥å®ç°ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹ï¼Ÿ"}},[e._v("#")]),e._v(" ä»€ä¹ˆæ˜¯é˜»å¡é˜Ÿåˆ—ï¼Ÿå¦‚ä½•ä½¿ç”¨é˜»å¡é˜Ÿåˆ—æ¥å®ç°ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹ï¼Ÿ")]),e._v(" "),t("p",[e._v("java.util.concurrent.BlockingQueue çš„ç‰¹æ€§æ˜¯ï¼šå½“é˜Ÿåˆ—æ˜¯ç©ºçš„æ—¶ï¼Œä»é˜Ÿåˆ—ä¸­è·å–æˆ–åˆ é™¤å…ƒç´ çš„æ“ä½œå°†ä¼šè¢«é˜»å¡ï¼Œæˆ–è€…å½“é˜Ÿåˆ—æ˜¯æ»¡æ—¶ï¼Œå¾€é˜Ÿåˆ—é‡Œæ·»åŠ å…ƒç´ çš„æ“ä½œä¼šè¢«é˜»å¡ã€‚")]),e._v(" "),t("p",[e._v("é˜»å¡é˜Ÿåˆ—ä¸æ¥å—ç©ºå€¼ï¼Œå½“ä½ å°è¯•å‘é˜Ÿåˆ—ä¸­æ·»åŠ ç©ºå€¼çš„æ—¶å€™ï¼Œå®ƒä¼šæŠ›å‡º NullPointerExceptionã€‚")]),e._v(" "),t("p",[e._v("é˜»å¡é˜Ÿåˆ—çš„å®ç°éƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ‰€æœ‰çš„æŸ¥è¯¢æ–¹æ³•éƒ½æ˜¯åŸå­çš„å¹¶ä¸”ä½¿ç”¨äº†å†…éƒ¨é”æˆ–è€…å…¶ä»–å½¢å¼çš„å¹¶å‘æ§åˆ¶ã€‚")]),e._v(" "),t("p",[e._v("BlockingQueue æ¥å£æ˜¯ java collections æ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒä¸»è¦ç”¨äºå®ç°ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜ã€‚")]),e._v(" "),t("p",[e._v("é˜…è¯»è¿™ç¯‡æ–‡ç« äº†è§£å¦‚ä½•ä½¿ç”¨é˜»å¡é˜Ÿåˆ—å®ç°ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜ã€‚")]),e._v(" "),t("h2",{attrs:{id:"åŸå­å˜é‡ç±»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åŸå­å˜é‡ç±»"}},[e._v("#")]),e._v(" åŸå­å˜é‡ç±»")]),e._v(" "),t("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯åŸå­æ“ä½œï¼Ÿæœ‰å“ªäº›åŸå­ç±»ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯åŸå­æ“ä½œï¼Ÿæœ‰å“ªäº›åŸå­ç±»ï¼Ÿ"}},[e._v("#")]),e._v(" ä»€ä¹ˆæ˜¯åŸå­æ“ä½œï¼Ÿæœ‰å“ªäº›åŸå­ç±»ï¼Ÿ")]),e._v(" "),t("p",[e._v("åŸå­æ“ä½œæ˜¯æŒ‡ä¸€ä¸ªä¸å—å…¶ä»–æ“ä½œå½±å“çš„æ“ä½œä»»åŠ¡å•å…ƒã€‚åŸå­æ“ä½œæ˜¯åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹é¿å…æ•°æ®ä¸ä¸€è‡´å¿…é¡»çš„æ‰‹æ®µã€‚")]),e._v(" "),t("p",[e._v("int++å¹¶ä¸æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œæ‰€ä»¥å½“ä¸€ä¸ªçº¿ç¨‹è¯»å–å®ƒçš„å€¼å¹¶åŠ  1 æ—¶ï¼Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹æœ‰å¯èƒ½ä¼šè¯»åˆ°ä¹‹å‰çš„å€¼ï¼Œè¿™å°±ä¼šå¼•å‘é”™è¯¯ã€‚")]),e._v(" "),t("p",[e._v("ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¿…é¡»ä¿è¯å¢åŠ æ“ä½œæ˜¯åŸå­çš„ï¼Œåœ¨ JDK1.5 ä¹‹å‰æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒæ­¥æŠ€æœ¯æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚åˆ° JDK1.5ï¼Œjava.util.concurrent.atomic åŒ…æä¾›äº† int å’Œ long ç±»å‹çš„è£…ç±»ï¼Œå®ƒä»¬å¯ä»¥è‡ªåŠ¨çš„ä¿è¯å¯¹äºä»–ä»¬çš„æ“ä½œæ˜¯åŸå­çš„å¹¶ä¸”ä¸éœ€è¦ä½¿ç”¨åŒæ­¥ã€‚å¯ä»¥é˜…è¯»è¿™ç¯‡æ–‡ç« æ¥äº†è§£ Java çš„ atomic ç±»ã€‚")]),e._v(" "),t("h3",{attrs:{id:"åŸå­ç±»çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åŸå­ç±»çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"}},[e._v("#")]),e._v(" åŸå­ç±»çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ")]),e._v(" "),t("ol",[t("li",[e._v("å¤„ç†å™¨å®ç°åŸå­æ“ä½œï¼šä½¿ç”¨æ€»çº¿é”ä¿è¯åŸå­æ€§ï¼Œä½¿ç”¨ç¼“å­˜é”ä¿è¯åŸå­æ€§ï¼ˆä¿®æ”¹å†…å­˜åœ°å€ï¼Œç¼“å­˜ä¸€è‡´æ€§æœºåˆ¶ï¼šé˜»æ­¢åŒæ—¶ä¿®æ”¹ç”± 2 ä¸ªä»¥ä¸Šçš„å¤„ç†å™¨ç¼“å­˜çš„å†…å­˜åŒºåŸŸæ•°æ®ï¼‰")]),e._v(" "),t("li",[e._v("JAVA å®ç°åŸå­æ“ä½œï¼šå¾ªç¯ä½¿ç”¨ CAS å®ç°åŸå­æ“ä½œ")])]),e._v(" "),t("h2",{attrs:{id:"å¹¶å‘å·¥å…·ç±»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¹¶å‘å·¥å…·ç±»"}},[e._v("#")]),e._v(" å¹¶å‘å·¥å…·ç±»")]),e._v(" "),t("h3",{attrs:{id:"cyclicbarrier-å’Œ-countdownlatch-æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cyclicbarrier-å’Œ-countdownlatch-æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ"}},[e._v("#")]),e._v(" CyclicBarrier å’Œ CountDownLatch æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ")]),e._v(" "),t("p",[e._v("CyclicBarrier å’Œ CountDownLatch éƒ½å¯ä»¥ç”¨æ¥è®©ä¸€ç»„çº¿ç¨‹ç­‰å¾…å…¶å®ƒçº¿ç¨‹ã€‚ä¸ CyclicBarrier ä¸åŒçš„æ˜¯ï¼ŒCountdownLatch ä¸èƒ½é‡ç”¨ã€‚")]),e._v(" "),t("blockquote",[t("p",[e._v("ğŸ‘‰ å‚è€ƒé˜…è¯»ï¼š"),t("a",{attrs:{href:"http://www.cnblogs.com/dolphin0520/p/3920397.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java å¹¶å‘ç¼–ç¨‹ï¼šCountDownLatchã€CyclicBarrier å’Œ Semaphore"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"çº¿ç¨‹æ± "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#çº¿ç¨‹æ± "}},[e._v("#")]),e._v(" çº¿ç¨‹æ± ")]),e._v(" "),t("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯çº¿ç¨‹æ± ï¼Ÿå¦‚ä½•åˆ›å»ºä¸€ä¸ª-java-çº¿ç¨‹æ± ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯çº¿ç¨‹æ± ï¼Ÿå¦‚ä½•åˆ›å»ºä¸€ä¸ª-java-çº¿ç¨‹æ± ï¼Ÿ"}},[e._v("#")]),e._v(" ä»€ä¹ˆæ˜¯çº¿ç¨‹æ± ï¼Ÿå¦‚ä½•åˆ›å»ºä¸€ä¸ª Java çº¿ç¨‹æ± ï¼Ÿ")]),e._v(" "),t("p",[e._v("ä¸€ä¸ªçº¿ç¨‹æ± ç®¡ç†äº†ä¸€ç»„å·¥ä½œçº¿ç¨‹ï¼ŒåŒæ—¶å®ƒè¿˜åŒ…æ‹¬äº†ä¸€ä¸ªç”¨äºæ”¾ç½®ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡çš„é˜Ÿåˆ—ã€‚")]),e._v(" "),t("p",[e._v("java.util.concurrent.Executors æä¾›äº†ä¸€ä¸ª java.util.concurrent.Executor æ¥å£çš„å®ç°ç”¨äºåˆ›å»ºçº¿ç¨‹æ± ã€‚çº¿ç¨‹æ± ä¾‹å­å±•ç°äº†å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨çº¿ç¨‹æ± ï¼Œæˆ–è€…é˜…è¯» ScheduledThreadPoolExecutor ä¾‹å­ï¼Œäº†è§£å¦‚ä½•åˆ›å»ºä¸€ä¸ªå‘¨æœŸä»»åŠ¡ã€‚")]),e._v(" "),t("blockquote",[t("p",[e._v("ğŸ‘‰ å‚è€ƒé˜…è¯»ï¼š"),t("a",{attrs:{href:"http://www.cnblogs.com/dolphin0520/p/3932921.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java å¹¶å‘ç¼–ç¨‹ï¼šçº¿ç¨‹æ± çš„ä½¿ç”¨"),t("OutboundLink")],1)])]),e._v(" "),t("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯-executors-æ¡†æ¶ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯-executors-æ¡†æ¶ï¼Ÿ"}},[e._v("#")]),e._v(" ä»€ä¹ˆæ˜¯ Executors æ¡†æ¶ï¼Ÿ")]),e._v(" "),t("p",[e._v("Executor æ¡†æ¶åŒ java.util.concurrent.Executor æ¥å£åœ¨ Java 5 ä¸­è¢«å¼•å…¥ã€‚Executor æ¡†æ¶æ˜¯ä¸€ä¸ªæ ¹æ®ä¸€ç»„æ‰§è¡Œç­–ç•¥è°ƒç”¨ï¼Œè°ƒåº¦ï¼Œæ‰§è¡Œå’Œæ§åˆ¶çš„å¼‚æ­¥ä»»åŠ¡çš„æ¡†æ¶ã€‚")]),e._v(" "),t("p",[e._v("æ— é™åˆ¶çš„åˆ›å»ºçº¿ç¨‹ä¼šå¼•èµ·åº”ç”¨ç¨‹åºå†…å­˜æº¢å‡ºã€‚æ‰€ä»¥åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± æ˜¯ä¸ªæ›´å¥½çš„çš„è§£å†³æ–¹æ¡ˆï¼Œå› ä¸ºå¯ä»¥é™åˆ¶çº¿ç¨‹çš„æ•°é‡å¹¶ä¸”å¯ä»¥å›æ”¶å†åˆ©ç”¨è¿™äº›çº¿ç¨‹ã€‚åˆ©ç”¨ Executors æ¡†æ¶å¯ä»¥éå¸¸æ–¹ä¾¿çš„åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ï¼Œé˜…è¯»è¿™ç¯‡æ–‡ç« å¯ä»¥äº†è§£å¦‚ä½•ä½¿ç”¨ Executor æ¡†æ¶åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ã€‚")]),e._v(" "),t("h3",{attrs:{id:"executors-ç±»æ˜¯ä»€ä¹ˆï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#executors-ç±»æ˜¯ä»€ä¹ˆï¼Ÿ"}},[e._v("#")]),e._v(" Executors ç±»æ˜¯ä»€ä¹ˆï¼Ÿ")]),e._v(" "),t("p",[e._v("Executors ä¸º Executorï¼ŒExecutorServiceï¼ŒScheduledExecutorServiceï¼ŒThreadFactory å’Œ "),t("code",[e._v("Callable")]),e._v(" ç±»æä¾›äº†ä¸€äº›å·¥å…·æ–¹æ³•ã€‚")]),e._v(" "),t("p",[e._v("Executors å¯ä»¥ç”¨äºæ–¹ä¾¿çš„åˆ›å»ºçº¿ç¨‹æ± ã€‚")]),e._v(" "),t("h3",{attrs:{id:"threadpoolexecutor-æœ‰å“ªäº›å‚æ•°ï¼Œå„è‡ªæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#threadpoolexecutor-æœ‰å“ªäº›å‚æ•°ï¼Œå„è‡ªæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"}},[e._v("#")]),e._v(" ThreadPoolExecutor æœ‰å“ªäº›å‚æ•°ï¼Œå„è‡ªæœ‰ä»€ä¹ˆç”¨ï¼Ÿ")]),e._v(" "),t("p",[t("code",[e._v("java.uitl.concurrent.ThreadPoolExecutor")]),e._v(" ç±»æ˜¯ Executor æ¡†æ¶ä¸­æœ€æ ¸å¿ƒçš„ä¸€ä¸ªç±»ã€‚")]),e._v(" "),t("p",[e._v("ThreadPoolExecutor æœ‰å››ä¸ªæ„é€ æ–¹æ³•ï¼Œå‰ä¸‰ä¸ªéƒ½æ˜¯åŸºäºç¬¬å››ä¸ªå®ç°ã€‚ç¬¬å››ä¸ªæ„é€ æ–¹æ³•å®šä¹‰å¦‚ä¸‹ï¼š")]),e._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[e._v("    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("ThreadPoolExecutor")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("int")]),e._v(" corePoolSize"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n                              "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("int")]),e._v(" maximumPoolSize"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n                              "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("long")]),e._v(" keepAliveTime"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n                              "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("TimeUnit")]),e._v(" unit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n                              "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("BlockingQueue")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Runnable")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v(" workQueue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n                              "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("ThreadFactory")]),e._v(" threadFactory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n                              "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("RejectedExecutionHandler")]),e._v(" handler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n")])])]),t("h4",{attrs:{id:"å‚æ•°è¯´æ˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‚æ•°è¯´æ˜"}},[e._v("#")]),e._v(" å‚æ•°è¯´æ˜")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("corePoolSize")]),e._v("ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨åˆ›å»ºäº†çº¿ç¨‹æ± åï¼Œçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ä¸º 0ï¼Œå½“æœ‰ä»»åŠ¡æ¥ä¹‹åï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªçº¿ç¨‹å»æ‰§è¡Œä»»åŠ¡ï¼Œå½“çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ç›®è¾¾åˆ° corePoolSize åï¼Œå°±ä¼šæŠŠåˆ°è¾¾çš„ä»»åŠ¡æ”¾åˆ°ç¼“å­˜é˜Ÿåˆ—å½“ä¸­ã€‚")]),e._v(" "),t("li",[t("code",[e._v("maximumPoolSize")]),e._v("ï¼šçº¿ç¨‹æ± å…è®¸åˆ›å»ºçš„æœ€å¤§çº¿ç¨‹æ•°ã€‚å¦‚æœç¼“å­˜é˜Ÿåˆ—æ»¡äº†ï¼Œå¹¶ä¸”å·²åˆ›å»ºçš„çº¿ç¨‹æ•°å°äºæœ€å¤§çº¿ç¨‹æ•°ï¼Œåˆ™çº¿ç¨‹æ± ä¼šå†åˆ›å»ºæ–°çš„çº¿ç¨‹æ‰§è¡Œä»»åŠ¡ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯å¦‚æœä½¿ç”¨äº†æ— ç•Œçš„ä»»åŠ¡é˜Ÿåˆ—è¿™ä¸ªå‚æ•°å°±æ²¡ä»€ä¹ˆæ•ˆæœã€‚")]),e._v(" "),t("li",[t("code",[e._v("keepAliveTime")]),e._v("ï¼šçº¿ç¨‹æ´»åŠ¨ä¿æŒæ—¶é—´ã€‚çº¿ç¨‹æ± çš„å·¥ä½œçº¿ç¨‹ç©ºé—²åï¼Œä¿æŒå­˜æ´»çš„æ—¶é—´ã€‚æ‰€ä»¥å¦‚æœä»»åŠ¡å¾ˆå¤šï¼Œå¹¶ä¸”æ¯ä¸ªä»»åŠ¡æ‰§è¡Œçš„æ—¶é—´æ¯”è¾ƒçŸ­ï¼Œå¯ä»¥è°ƒå¤§è¿™ä¸ªæ—¶é—´ï¼Œæé«˜çº¿ç¨‹çš„åˆ©ç”¨ç‡ã€‚")]),e._v(" "),t("li",[t("code",[e._v("unit")]),e._v("ï¼šå‚æ•° keepAliveTime çš„æ—¶é—´å•ä½ï¼Œæœ‰ 7 ç§å–å€¼ã€‚å¯é€‰çš„å•ä½æœ‰å¤©ï¼ˆDAYSï¼‰ï¼Œå°æ—¶ï¼ˆHOURSï¼‰ï¼Œåˆ†é’Ÿï¼ˆMINUTESï¼‰ï¼Œæ¯«ç§’(MILLISECONDS)ï¼Œå¾®ç§’(MICROSECONDS, åƒåˆ†ä¹‹ä¸€æ¯«ç§’)å’Œæ¯«å¾®ç§’(NANOSECONDS, åƒåˆ†ä¹‹ä¸€å¾®ç§’)ã€‚")]),e._v(" "),t("li",[t("code",[e._v("workQueue")]),e._v("ï¼šä»»åŠ¡é˜Ÿåˆ—ã€‚ç”¨äºä¿å­˜ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡çš„é˜»å¡é˜Ÿåˆ—ã€‚ å¯ä»¥é€‰æ‹©ä»¥ä¸‹å‡ ä¸ªé˜»å¡é˜Ÿåˆ—ã€‚\n"),t("ul",[t("li",[e._v("ArrayBlockingQueueï¼šæ˜¯ä¸€ä¸ªåŸºäºæ•°ç»„ç»“æ„çš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ï¼Œæ­¤é˜Ÿåˆ—æŒ‰ FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰åŸåˆ™å¯¹å…ƒç´ è¿›è¡Œæ’åºã€‚")]),e._v(" "),t("li",[e._v("LinkedBlockingQueueï¼šä¸€ä¸ªåŸºäºé“¾è¡¨ç»“æ„çš„é˜»å¡é˜Ÿåˆ—ï¼Œæ­¤é˜Ÿåˆ—æŒ‰ FIFO ï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ æ’åºå…ƒç´ ï¼Œååé‡é€šå¸¸è¦é«˜äº ArrayBlockingQueueã€‚é™æ€å·¥å‚æ–¹æ³• Executors.newFixedThreadPool()ä½¿ç”¨äº†è¿™ä¸ªé˜Ÿåˆ—ã€‚")]),e._v(" "),t("li",[e._v("SynchronousQueueï¼šä¸€ä¸ªä¸å­˜å‚¨å…ƒç´ çš„é˜»å¡é˜Ÿåˆ—ã€‚æ¯ä¸ªæ’å…¥æ“ä½œå¿…é¡»ç­‰åˆ°å¦ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ç§»é™¤æ“ä½œï¼Œå¦åˆ™æ’å…¥æ“ä½œä¸€ç›´å¤„äºé˜»å¡çŠ¶æ€ï¼Œååé‡é€šå¸¸è¦é«˜äº LinkedBlockingQueueï¼Œé™æ€å·¥å‚æ–¹æ³• Executors.newCachedThreadPool ä½¿ç”¨äº†è¿™ä¸ªé˜Ÿåˆ—ã€‚")]),e._v(" "),t("li",[e._v("PriorityBlockingQueueï¼šä¸€ä¸ªå…·æœ‰ä¼˜å…ˆçº§çš„æ— é™é˜»å¡é˜Ÿåˆ—ã€‚")])])]),e._v(" "),t("li",[t("code",[e._v("threadFactory")]),e._v("ï¼šåˆ›å»ºçº¿ç¨‹çš„å·¥å‚ã€‚å¯ä»¥é€šè¿‡çº¿ç¨‹å·¥å‚ç»™æ¯ä¸ªåˆ›å»ºå‡ºæ¥çš„çº¿ç¨‹è®¾ç½®æ›´æœ‰æ„ä¹‰çš„åå­—ã€‚")]),e._v(" "),t("li",[t("code",[e._v("handler")]),e._v("ï¼šé¥±å’Œç­–ç•¥ã€‚å½“é˜Ÿåˆ—å’Œçº¿ç¨‹æ± éƒ½æ»¡äº†ï¼Œè¯´æ˜çº¿ç¨‹æ± å¤„äºé¥±å’ŒçŠ¶æ€ï¼Œé‚£ä¹ˆå¿…é¡»é‡‡å–ä¸€ç§ç­–ç•¥å¤„ç†æäº¤çš„æ–°ä»»åŠ¡ã€‚è¿™ä¸ªç­–ç•¥é»˜è®¤æƒ…å†µä¸‹æ˜¯ AbortPolicyï¼Œè¡¨ç¤ºæ— æ³•å¤„ç†æ–°ä»»åŠ¡æ—¶æŠ›å‡ºå¼‚å¸¸ã€‚ä»¥ä¸‹æ˜¯ JDK1.5 æä¾›çš„å››ç§ç­–ç•¥ã€‚\n"),t("ul",[t("li",[e._v("AbortPolicyï¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸ã€‚")]),e._v(" "),t("li",[e._v("CallerRunsPolicyï¼šåªç”¨è°ƒç”¨è€…æ‰€åœ¨çº¿ç¨‹æ¥è¿è¡Œä»»åŠ¡ã€‚")]),e._v(" "),t("li",[e._v("DiscardOldestPolicyï¼šä¸¢å¼ƒé˜Ÿåˆ—é‡Œæœ€è¿‘çš„ä¸€ä¸ªä»»åŠ¡ï¼Œå¹¶æ‰§è¡Œå½“å‰ä»»åŠ¡ã€‚")]),e._v(" "),t("li",[e._v("DiscardPolicyï¼šä¸å¤„ç†ï¼Œä¸¢å¼ƒæ‰ã€‚")]),e._v(" "),t("li",[e._v("å½“ç„¶ä¹Ÿå¯ä»¥æ ¹æ®åº”ç”¨åœºæ™¯éœ€è¦æ¥å®ç° RejectedExecutionHandler æ¥å£è‡ªå®šä¹‰ç­–ç•¥ã€‚å¦‚è®°å½•æ—¥å¿—æˆ–æŒä¹…åŒ–ä¸èƒ½å¤„ç†çš„ä»»åŠ¡ã€‚")])])])]),e._v(" "),t("h3",{attrs:{id:"çº¿ç¨‹æ•°å¤šå°‘æ‰åˆç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#çº¿ç¨‹æ•°å¤šå°‘æ‰åˆç†"}},[e._v("#")]),e._v(" çº¿ç¨‹æ•°å¤šå°‘æ‰åˆç†")]),e._v(" "),t("h4",{attrs:{id:"èµ„æºé™åˆ¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#èµ„æºé™åˆ¶"}},[e._v("#")]),e._v(" èµ„æºé™åˆ¶")]),e._v(" "),t("p",[e._v("èµ„æºé™åˆ¶æŒ‡çš„æ˜¯ç¨‹åºçš„æ‰§è¡Œé€Ÿåº¦å—é™äºè®¡ç®—æœºç¡¬ä»¶èµ„æºæˆ–è½¯ä»¶èµ„æºï¼Œå¦‚æœåŠ¡å™¨çš„å¸¦å®½åªæœ‰ 2Mb/s,æŸä¸ªèµ„æºçš„ä¸‹è½½é€Ÿåº¦ä¸º 1Mb/s,ç³»ç»Ÿå¯åŠ¨ 10 ä¸ªçº¿ç¨‹å»ä¸‹è½½èµ„æºï¼Œä¸‹è½½é€Ÿåº¦ä¸ä¼šå˜æˆ 10Mb/sï¼Œæ‰€ä»¥åœ¨è¿›è¡Œå¹¶å‘çš„æ—¶å€™å›è€ƒè™‘èµ„æºçš„é™åˆ¶ã€‚ç¡¬ä»¶èµ„æºé™åˆ¶æœ‰å¸¦å®½çš„ä¸Šä¼ /ä¸‹è½½é€Ÿåº¦ã€ç¡¬ç›˜çš„è¯»å†™é€Ÿåº¦å’Œ CPU çš„å¤„ç†é€Ÿåº¦ã€‚è½¯ä»¶èµ„æºé™åˆ¶æœ‰æ•°æ®åº“çš„è¿æ¥æ•°å’Œ socket è¿æ¥æ•°ç­‰ã€‚")]),e._v(" "),t("p",[e._v("èµ„æºé™åˆ¶å¼•æ¥çš„é—®é¢˜ï¼šä¸ºäº†å°†ä»£ç æ‰§è¡Œé€Ÿåº¦åŠ å¿«å°†ä»£ç ä¸­ä¸²è¡Œæ‰§è¡Œçš„éƒ¨åˆ†å˜æˆå¹¶å‘æ‰§è¡Œï¼Œå› ä¸ºèµ„æºå—é™ï¼Œä»ç„¶åœ¨ä¸²è¡Œæ‰§è¡Œï¼Œè¿™æ—¶å€™ç¨‹åºä¸ä»…ä¸ä¼šåŠ å¿«ï¼Œåè€Œä¼šå˜æ…¢ï¼Œå› ä¸ºå¢åŠ äº†ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œèµ„æºè°ƒåº¦çš„æ—¶é—´ã€‚")]),e._v(" "),t("p",[e._v("å¦‚ä½•è§£å†³èµ„æºé™åˆ¶é—®é¢˜ï¼šå¯ä»¥ä½¿ç”¨é›†ç¾¤å¹¶è¡Œæ‰§è¡Œç¨‹åºï¼Œæ—¢ç„¶å•æœºçš„èµ„æºæœ‰é™ï¼Œé‚£ä¹ˆå¯ä»¥è®©ç¨‹åºåœ¨å¤šæœºä¸Šè¿è¡Œï¼Œæ¯”å¦‚ä½¿ç”¨ ODPSã€Hadoop æˆ–è€…è‡ªå·±æ­ä¸ªæœåŠ¡å™¨é›†ç¾¤ï¼Œä¸åŒçš„æœºå™¨å¤„ç†ä¸åŒçš„æ•°æ®ï¼Œå¯ä»¥é€šè¿‡â€œæ•°æ® ID%æœºå™¨æ•°â€ï¼Œè®¡ç®—å¾—åˆ°ä¸€ä¸ªæœºå™¨ç¼–å·ï¼Œç„¶åç”±å¯¹åº”ç¼–å·çš„æœºå™¨å¤„ç†è¿™ä¸ªæ•°æ®ï¼Œå¯¹äºè½¯ä»¶èµ„æºå—é™ï¼Œå¯ä»¥ä½¿ç”¨èµ„æºæ± æ¥å¤ç”¨å¦‚ä½¿ç”¨è¿æ¥æ± å°†æ•°æ®åº“å’Œ Socket è¿æ¥å¤ç”¨ï¼Œæˆ–è€…åœ¨è°ƒç”¨å¯¹æ–¹ webservice æ¥å£è·å–æ•°æ®åªå»ºç«‹ä¸€ä¸ªè¿æ¥ã€‚")]),e._v(" "),t("h2",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™"}},[e._v("#")]),e._v(" å‚è€ƒèµ„æ–™")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("ä¹¦")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://item.jd.com/10922250.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("ã€ŠJava å¹¶å‘ç¼–ç¨‹å®æˆ˜ã€‹"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://item.jd.com/11740734.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("ã€ŠJava å¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://item.jd.com/11252778.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹"),t("OutboundLink")],1)])])]),e._v(" "),t("li",[t("strong",[e._v("æ–‡ç« ")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://www.importnew.com/12773.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java çº¿ç¨‹é¢è¯•é¢˜ Top 50"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"http://ifeve.com/java-multi-threading-concurrency-interview-questions-with-answers/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java å¤šçº¿ç¨‹å’Œå¹¶å‘åŸºç¡€é¢è¯•é—®ç­”"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://blog.csdn.net/yaosiming2011/article/details/44280797",target:"_blank",rel:"noopener noreferrer"}},[e._v("è¿›ç¨‹å’Œçº¿ç¨‹å…³ç³»åŠåŒºåˆ«"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.w3resource.com/java-tutorial/java-threadclass-methods-and-threadstates.php",target:"_blank",rel:"noopener noreferrer"}},[e._v("JavaThread Methods and Thread States"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://blog.csdn.net/pange1991/article/details/53860651",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java çº¿ç¨‹çš„ 5 ç§çŠ¶æ€åŠåˆ‡æ¢(é€å½»è®²è§£)"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://blog.csdn.net/shimiso/article/details/8964414",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java ä¸­å®ˆæŠ¤çº¿ç¨‹çš„æ€»ç»“"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://blog.csdn.net/longshengguoji/article/details/41126119",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java åˆ›å»ºçº¿ç¨‹çš„ä¸‰ç§æ–¹å¼åŠå…¶å¯¹æ¯”"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://blog.csdn.net/pange1991/article/details/53860651",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java çº¿ç¨‹çš„ 5 ç§çŠ¶æ€åŠåˆ‡æ¢(é€å½»è®²è§£)"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.cnblogs.com/lcplcpjava/p/6896904.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java çº¿ç¨‹æ–¹æ³• join çš„ç®€å•æ€»ç»“"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"http://www.cnblogs.com/dolphin0520/p/3920385.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java å¹¶å‘ç¼–ç¨‹ï¼šçº¿ç¨‹é—´åä½œçš„ä¸¤ç§æ–¹å¼ï¼šwaitã€notifyã€notifyAll å’Œ Condition"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"http://www.cnblogs.com/dolphin0520/p/3920373.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java å¹¶å‘ç¼–ç¨‹ï¼švolatile å…³é”®å­—è§£æ"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"http://www.cnblogs.com/dolphin0520/p/3949310.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java å¹¶å‘ç¼–ç¨‹ï¼šCallableã€Future å’Œ FutureTask"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"http://www.cnblogs.com/dolphin0520/p/3932921.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java å¹¶å‘ç¼–ç¨‹ï¼šçº¿ç¨‹æ± çš„ä½¿ç”¨"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.jianshu.com/p/0256c2995cec",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java å¹¶å‘ç¼–ç¨‹"),t("OutboundLink")],1)])])])])])}),[],!1,null,null,null);a.default=_.exports}}]);